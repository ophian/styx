Version 3.4-DEV ()
 ------------------------------------------------------------------------

  * Improve syndication plugin consistency for icon and class selector build

  * Update to bootstrap assets 5.0.1 revision

  * WIP - Add new Bootstrap 5 "fallback pool" templates parent theme [ boot ]
    and a new simple example blog [ b5blog ] depending child theme.

  * Added new Bootstrap 5 minified assets to templates/_assets/b5
    See exemplarily documented usage down below for "/b4".

  * Set last piece of toggle-group-to-right improvement for plugins with a
    plugin head description or changelog/documentary links. This in general
    moves stackable status icon to titles left.

  * Temporary improve bundled-libs/voku/simple-cache init for PLESK hosts
    17.8.11 + with PHP value "disable_functions" opcache_get_cache().

  * Remove unmatched wordfilter method parameter in spamblock plugin

  * Fix backend comment answer inheritance issue with missing constants data
    in the pure/comments.tpl file, when the frontend theme uses another theme.

  * Fix STANDARD_EDITOR GROUP user failing to add images while not being able
    to use an image API sizing method with ImageMagick by permission.

  * Improve MediaLibrary directories list for base dir consistency
    (see categories) and other "tooling to the right" UI enhancements.

  * Fix CHIEF_EDITOR GROUP member category counter for entries issue

  * Improve categories list for non-categorized entries and add a button
    reference for the newly added entries list filter.

  * Add new entries list entry filter for entries without category

  * Extend MediaLibrary sort filter range with 36 items per page

  * Add simple "plugin_freetag_sidebar.tpl" example to default theme

  * Upgrade [ bootstrap4 ] theme to use latest bootstrap 4.6.0 base toolkit,
    which now also uses the new local assets directory load.

  * Allow to remove the maintenance section utf8mb4 ready success box by Admin

  * Improve themes [ B46, Clean-blog, Timeline ] to deliver local [css/js]-type
    assets from the new added fallback chain:
        by {serendipity_getFile file="b4/js/bootstrap.min.js"}
        or {serendipity_getFile file="b4/css/bootstrap.min.css"}.
    Previous [ Clean-blog, Timeline ] CDN pointers are still available to allow
    back manually in the index.tpl and preview_iframe.tpl template files.

  * Allow template directory fallback chain to use the /templates/_assets
    directory for bootstrap framework v.4 cases.

  * Upgrade [ clean-blog ] theme for latest bootstrap 4.6.0 base

  * Upgrade [ timeline ] theme for latest bootstrap 4.6.0 base and
    fixup some odd and inconsistent behaviour issues with configurable options.

  * Fix syndication plugin feedburner protocol from http to https, as well as
    in a 2.0-beta3 upgrade task.

  * Add [ timeline ] theme configurable WebP support and enable entry related
    entryproperties based header image < picture > tag WebP source sets in the
    frontend.

  * Fix PHP 8 init issue in routing API when having removed some permalink IDs

  * Extend WebP added picture sets for plugin/themes configuration items

  * Cleanup some more php_ini related legacy code

  * Fixup clean-blog theme for theme configuration messages

  * Fixup old < fieldset p > margin CSS rule for theme configurations

  * Improve BACKEND_TITLE_FOR_NUGGET language constant to also include stackable
    plugins. (Check up for your language please.)

  * Remove deprecated addLoadEvent() JavaScript compatibility func initializer.
    All additional plugins have been checked and/or fixed up.

  * Improved several backend outsigns, as for media properties, pinned entries,
    for toolbar and plugin/theme/user configuration groups, for icon placements,
    inline SVGs, etc.; In most, by and for the Styx backend theme styles.
    With this change, plugins with configuration groups now have a top right
    floated tool group set.

  * Fix image media uploads for possible included filename dots, breaking
    MediaLibrary WebP variation showup checks.

  * Imrove "B46" theme for "Featured Article" Pro Tip helper


Version 3.3.1 (March, 14th 2021)
 ------------------------------------------------------------------------

  * Update templates assets jQuery lib to 3.6.0

  * Fix return of PDO-* database installs with PHP 8 whilst checking previous

  * Fix a maintenance page check order issue on non-MySQL (MariaDB) installs

  * Fix an old Serendipity issue with multi-engine themes config file wrong load
    order, when a Grandchild theme has no own configuration file.
    - Improved template configuration $template_loaded_config array to now
      have a unique variable merge at the very end of fallback check builds.

  * Bugfix a cased PHP 8 (hidden) error by an empty frontend stylesheet call

  * Fix (silence) an odd maintenance PHP 8 error issue on non-MySQL (MariaDB)
    database installs, regarding a leftover, but deprecated set info CONSTANT
    for image entry naming syncs.
    PLEASE HELP testing ML image moves/renames already used in entries on
    SQLite and PostgreSQL DB installations to remove this quickly.

  * Removed deprecated default widgets from dashboard overview

  * Improve several minor "B46" theme CSS issues

  * Fix a certain case in "B46" theme where post article had no proper top margin

  * Bugfix "B46" theme for the advanced option "Featured Article", since PHP
    versions handle it differently.

  * Improve "B46" theme to not wrap the top post_byline header when using cards

  * Fix an avoidable HTML comments javascript loading error information case
    after sending a comment, when no comment form area upraises to prevent spam
    floods, in [ Pure, PSG, Dude, B46 ] themes.

  * Add an "is filtered" status icon to the backend comments list

  * Add an "is filtered" status icon to the backend entries list

  * Fix history plugin for multiyears with a non matching leap day case


Version 3.3.0 (February, 28th 2021)
 ------------------------------------------------------------------------

  * Fix backend comment preview for PHP 8 fetching the wrong file

  * Announce backend start page Standard-Widgets as deprecated. This option and
    display will probably be removed with next Styx 3.4.0 release.

  * Improved stack outline of special cased found orphaned IDs, respectively
    images names for back search.

  * Fix cased fallback cascade to load a user.css file for the current theme only

  * Fix and update themes for certain issues not specifically mentioned in other
    changelog entries [ dude, sliver, timeline ]. In general, all touched themes
    have an updated last modified date.

  * Sync with Smarty v3.1.39 release for security and - since customized - out-
    lined as v3.1.39-dev-4 for Styx. Please see other Smarty notes for this Styx
    3.3.0 release and previous.

  * Fix a non-installed maintenance Plugin CONSTANT usage to not break on PHP 8

  * Ship modemaintain following serendipity_die() improvement.
    PLEASE UPDATE you custom modemaintain message.

  * Improve MediaLibrary filter condition to show up the "is filtered" status icon

  * Fix and allow $comment.avatar variable (by plugin) in [ pure, default ], since
    being the Standard and default themes, and fix it up in all others when used.
    COPY-THEMERS: Please keep on track.

  * Fix allowing code highlight js on /comments/ summary pages in [ pure, psg, dude,
    b46 ] themes.

  * Improve Serendipity Smarty API for special cased template initialization issues

  * Fixes for "pure" theme freetag clouds 

  * Allow "B46" theme featured article preset on paging 'archives' too. Read:
    https://github.com/ophian/styx/commit/73388402be960c896cefa78c3f596bb7b7b51f9c

  * Add new option to "B46" theme to run navigation independently beneath the bar

  * Add new option to "B46" theme to run a featured article above both teasers.
    The "title" and "text" array keys are mandatory. If no background image is set,
    the background color is dark.

  * Add new option to "B46" theme to run entries as a truncated text card element,
    a "HOUSE OF CARDS" preview.

  * Add new option to "B46" theme to run entries as a truncated summary/detail
    element, like a "NEWSQUEUE".

  * Improve trackback references name key data by trim, improve DEV debugging
    output and add a forced resend trackback debug helper for the trackback
    event plugin, when global logging DEBUG configuration is set to "debug".
    (Partial a [s9y] Sync).

  * Improve session_start() for header sent issues, sending trackbacks

  * Avoid loading the structural "replacer" [ default, default-php ] theme JS
    in the backend on entry save, since it breaks.

  * Fix a wrong customURI variable case in templates installing the default theme

  * Improve some "B46" theme issues for cases and trackback link

  * Fix and improve some possible issues with ImageMagick for multi-file-uploads

  * Improve backend comment replyTO selection switch

  * Allow highlight.js on entries list in [ B46, Dude ] themes

  * Upgrade ckebasic assets highlight.min.js file to v.10.5.0

  * Improve serendipity_die() for errors vs maintenance mode.
    Please update your custom maintenance mode text.

  * Fix using the $hideSubdirFiles true cased param option for selection cases
    outside the MediaLibrary (like the usergallery plugin).

  * Fix some "B46" theme comment heading and archive_overview styles, as well as
    adding some styles for the freetag tagclouds.

  * Fix themes possible genpage hooked $comment_onchange livecomments variable
    in [ b46, bootstrap4, clean-blog, default, default-php, pure, skeleton,
    sliver, timeline ] - and newly added to [ next ].

  * Fix remoterss plugin for PHP 8 "XML Extension is not loaded or available",
    while being removed to PECL, for bundled-libs/Onyx/RSS library based RSS
    feeds. This now uses simpleXML.

  * Improve and fix custom error handler on production|debug cases

  * Remove obsolete and temporary is_countable() PHP polyfill method

  * Multiple Fixes for PHP 8 Warnings/Notices assigning uninitialized Smarty vars

  * Update Rich Text Editor assets to ckeditor v.4.16.0

  * PLEASE NOTE:
    The upcoming file format "avif", an AV1 codec based new image format,
    will arrive in browsers with Firefox 86 and similar others, but PHP, even
    in its current 8.0.x versions, still does not support it, i.e. within the
    widely used getimagesize() methods.
    The libgd project (GD) announced an early first support by end of Jan/Feb
    2021. Anyhow, we don't expect it included before a later PHP 8 version arises.
    So any additional Styx MediaLibrary action and upload support, like dimension
    sizes, creating thumbs, etc. does not work yet. All current related works are
    an experimental slowly growing support to make it work well once it has fully
    landed. To be continued...

  * Fix [bootstrap4, B46] themes missing trackback $entry.rdf_ident URI

  * Fix some PHP 8 track-/pingback issues

  * Add an experimental RDF feed

  * Fix Smarty API failing rss1 "is_comments" error on display error settings

  * Improve MediaLibrary mediaproperties comment(s) labels and add a new "saved"
    handler non-status note.

  * Fix MediaLibrary MediaProperties group vs subgroup assignment to correctly
    load saved image "alt", "title", "comment" attributes for frontend outputs.

  * Fixup "B46" theme backend loading bootstrap CSS asset for preview case only

  * Temporary bugfix a nested foreach attribute behavior to Smarty 3.1.38 dev-2.

  * Update to bundled-libs/Smarty 3.1.38 release - reverted to a Styx (dev-1)
    version, since leaving out some commits waiting for Maintainers review.

  * Update "B46" theme for bootstrap 4.6.0 assets

  * Remove outdated feed rss 0.91 and atom_03 templates files and references

  * Extend themes for rel="trackback" detection as a modern alternate to RDF.
    Analogue to 2k11 in June 2017.

  * Fix wrong parent class in changelog and modemaintain plugins

  * Remove old mysql and sqlrelay db include files and remaining type references

  * Added "B46" theme configuration options to clear navigation and footer bars

  * Bugfix allow backend configuration sets for plugin_html_nugget textareas

  * Remove "pure19" core template completely

  * Remove outdated "bulletproof" core template to additional_plugins pool

  * Fix history plugin for multiyears leap year counters

  * Merge and temporary hold the Spartacus UPGRADE XML file plugin requirements
    into the UPGRADE array - to not update any non-matching plugins.

  * Improve Spartacus for reading the full requirements array, which will allow
    to check extended plugin requirements on UPGRADE in a next step.

  * Fix "B46" theme lang constant fallback case for grandchild themes

  * Fixed sidebar template file in the "bootstrap 4" theme to allow rss feed
    configuration resets


Version 3.2.0 (December, 17th 2020)
 ------------------------------------------------------------------------

  * Improve modemaintain plugin by message NOTICE for autologin, when not having
    a high encryption safe required openSSL version available.

  * Fix more PHP 8 Warnings on globals and other variables

  * Update bundled-libs/SimplePie to v.1.5.6

  * Improve media filter backend styles for from/to date picker interface

  * Improve spamblock plugin DB table 'spamblocklog' to use proper core COLLATION
    on install.

  * Improve entries archives counter for empty year archive sum-ups, to easily
    exclude empty year blocks by {if $archive.sum === 0}{continue}{/if} in the
    archives template. Already used by the PURE 2020 [Standard] theme.

  * Fixes for PHP 8 Warnings on searching not set CSS user files returns

  * Improve (mysqli) utf8mb4_unicode_520_ci table COLLATION sets for plugins with
    database table installations via the serendipity_db_schema_import() method.

  * Fix autologin cookie and maintenance logoff for special "sessionbased only"
    case, when someone uses the 503 Mode with autologin, without having a high
    encryption safe required openSSL version available.

  * Fixes for PHP 8 Warnings on importers and guessInput() 'list' type

  * Fixes for PHP 8 Warnings on logoff and session handling

  * Fixes for PHP 8 Warnings on category form related actions

  * Improve MEDIA_UPLOAD_DIMERROR error message regarding settings

  * Fixes for PHP 8 Warnings on media uploads and renaming

  * Improve calling the spamblock plugin db tables method checkScheme() installer
    and to use the MariaDB Aria storage engine with INDEX key length by version.

  * Fixup generating timestamp with mktime() for PHP 8 in the calendars API

  * Trying to restore @silenced behaviour with PHP 8 via ErrorHandler

  * Improve core markup related plugins for a second run on entry body 'extended'
    in [ bbcode, emoticate, nl2br, s9ymarkup, xhtmlcleanup ].

  * Fixup fourth and hopefully last bunch of PHP 8 notices/warnings/deprecations
    for fresh and untouched new Serendipity systems.

  * Fixup third bunch of PHP 8 notices/warnings/deprecations for fresh systems

  * Fix "pure" theme for doubled element

  * Fixup "pure" and child themes for not available constant

  * Fixup backend themes for PHP 8 warnings on non-isset items. Using Smarty
    |default:'' will probably do only in production set error reportings.

    NOTE: The "fall back" "|default:''" approach can still be used and taken,
          if a variable is set (assigned) to null, a PHP type representation.
          The PHP case-insensitive constant NULL is the only possible value of
          type null. NULL is supposed to indicate the absence of a value.

  * Fixup second bunch of PHP 8 notices/warnings/deprecations for fresh systems

  * Temporary fixup (silence) PHP 8 ERROR NOTICE to ERROR WARNING accentuation
    for our silenced constant chaining.

  * Fixup PHP 8 deprecations for functions/methods param order sets

  * Fixup first bunch of PHP 8 notices/warnings/deprecations for the installation
    process.

  * Add new "PSG" (Pure Starting Grid) Cards theme, powered by "pure" engine

  * SET new (mysqli) utf8mb4_unicode_520_ci table COLLATE for Aria installations

  * Serendipity Styx from NOW on uses the ARIA storage engine on (recommended !)
    MariaDB database setups from MariaDB-10.3 versions for new installations.

    The ARIA engine is the successor of the old MyISAM engine and with start from
    MariaDB-10.5 versions, we won't even need to cut INDEX key lengths any more.
    As an intermediate installation for MariaDB 10.3 and 10.4, a special crafted SQL
    installation "db_mb4-k1.sql" file has been added which allows 1000 byte keys.

        The ARIA 'Page' format is the default format for Aria tables, and is the
        only format that can be used if TRANSACTIONAL=1.
        Page tables have a number of characteristics: One is, it is cached by the
        page cache, which gives better random performance as it uses fewer system
        calls, and is speeding up some GROUP BY and DISTINCT queries.
        For having "crash-safe" tables read:
            https://mariadb.com/kb/en/aria-storage-engine/

    ARIA UPGRADE table conversions for elder Serendipity/Styx installations will
    be done in a future release, when MariaDB-10.5 has landed in Mainstream.

  * Improvements for possible PHP 8 failures

  * Iconize MediaLibrary filtered status in media toolbar

  * Allow to use the media grid in filter(ed) lists

  * Improve searching media filters like "filename" against the strict set hide
    sub-directory limitation, to recursively include all current directory tree
    results. Buttoned filter [ All / Image / Video ] behave like before.

  * Add new generic function to check a multi-dimensional array for set values

  * Extend backend ML media rename replace REGEX within entries for alt || title
    attributes.

  * Avoid WebP parsing messages when uploading an origin webp file

  * Add icon for hotlink shares to ML backend media properties

  * Fixup hotlink URL string link view in media properties and media meta

  * Upgrade to CKEditor 4.15.1 (revision 1aa21195b)

  * Fix WebP URL string for entry replacement, moving a subdir file into the base-
    dir root directory by bulkmove. CHECK your blog entries, if having done so.

  * Fix moving directories via "manage directories" for stacked sub-directories
    mkdir() checkups. CHECK your MediaLibrary items, if having done so.

  * Refactor MediaLibrary rename/moving cases for mkdir() checkups

  * Add an icon reference for the backend plugin config stackable/stacked status

  * Improve lang constant consistency for various languages and constants for
    duplicates, line-order-appearance, singularities, translations, and renames:
        SYNDICATE_THIS_BLOG to SUBSCRIBE_TO_BLOG and
        DELETE_IMAGE_FAIL   to DELETE_FILE_FAIL (being more generic).

    ADDITIONAL NOTE:
        Some non-UTF-8 placed language files [ cn,fa,fi,ja,ko,ro,ru,ta,tn,tr ] do
        NOT use their current ISO, windows, or other defined LANG_CHARSET and
        instead run as UTF-8 since ages. Nobody complained about it so far.
        This are 10 languages out of 32 in total, which don't go conform with the
        Serendipity Styx lang system having an ANSI like fallback section against
        a (modern) UTF-8 Section.
        If you don't have a better idea, THIS is going to change in a future Styx
        version!

  * Iconize "has hidden suboption(s)" plugins option placeholder for viewability

  * Remove deprecated workarounds for wrong spelled separator plugin config types

  * Add new generic lang info variable for plugins with suboption behaviour.
    PLUGIN_API_GENERIC_SUBOPTION_DESC - Use by example() method.

  * Prepare global default style fallback stylesheet for 5-column image galleries

  * Fix silenced image file bulk move case for WebP variation files not moving
    the exiting variation filedir to the new directory location, when not already
    having a hidden variation dir.
    UPGRADERS NOTE:
    - CHECK your MediaLibrary image bulk move cases since Styx 3.0 for the WebP
      toolbar button still pointing to the old directory location, which does
      not match the announced infos meta path directory.
    - EITHER: Move the webp variation images to the new directory/.v/ name by
              hand via FTP; Create the .v/ dir there.
    -     OR: Move these images back via MediaLibrary to their origin directory
              location and then just move them again. Remember, that this action
              touches entries, so the manual solution might be the simpler
              approach.
    -     OR: In case of just having a few images this also is a fixup solution.
              Purge all WebP variation images via maintenance image synchronizer
              task and then re-build them again. Choose this BRUTE FORCE attack
              only, if NOT already having a reasonable amount of images!

  * Add CSS icon to plugin hooked fieldset legends of the styx backend entryform

  * Fix image file renaming case for fullsize webp variations, loosing the webp
    link and icon preview button.
    UPGRADERS NOTE:
    - CHECK your image rename cases since Styx 3.0 for a missing webp preview
      button right next to the trash icon button. Then check your uploads/ dir
      MediaLibrary via FTP and check the current directories .v/ directory to
      see if it really is an image hit by this issue!
    - EITHER: Rename this fullsize webp variation image to the new name too
              easily by hand;
    -     OR: Rename that image back via MediaLibrary to its origin name and then
              just rename it again.
    -     OR: (see upper bulk move fix 3rd solution note)

  * Improve media and theme grid per cookie remembrance

  * Add new B46 [Black Edition] core theme, partially using the elder Bootstrap4
    theme template files as engine, but having updated to latest bootstrap assets
    and having simplified the config and having extended the main template files;
    Not to forget the easy auto-"handmade" approach for navigation bar submenues.
    Apart from direct usage, this enables to be a good middle-layer-engine for
    possible simple GRAND-child themes by "Engine: b46, bootstrap4", just by
    adding some user styles and changing the index files structural grid.

  * Add javascript function to the "pure" 2020 Standard theme to check (Safari)
    Browsers WebP Support and change lightbox linked image picture sets to use
    the default image fallback.

  * Fix global (column) gallery styles for Safari Browser (white gap issue)

  * Fix the empty call history plugin counter for reset

  * Upgrade Rich Text CKEditor to v.4.15.0 (revision cc4885b53)

  * Fix atom1.0 comments feeds keeping code blocks

  * Add some improvements to spamblock log labels and (related) filter actions.
    NOTE: For self-placing trackbacks to your blog and your Spamblock trackback
          IP validating option is configured to "reject", you might nowadays run
          into [IPv4 != IPv6] IP-filter validating rejects by your own server.
          In this case you need to add a trackback whitelist URL for your blog!

  * Fixup ["pure" standard theme] missing trackback url and information when no
    trackbacks have yet been sent.

  * Add some styles for template_options expandable summary/details elements

  * Modernize spamblock trackback default exclude ident.ca url regex string

  * Allow theme template_options 'html' content expand blocks by backend styles
    and as well placing this for a full expanded descriptive info_field on array
    item position ranges 2-6 per default.
    NOTE: Theme Designers: Attend where you go!

  * Fix the serendipity Smarty API Specs "short_archives" parameter intend,
    which allows {serendipity_fetchPrintEntries} calls with "short_archives"
    parameter to shall give back a short_archive styled entries output without
    having defined an explicit set template for it.

    EXAMPLE for theme: pure [Standard] index.tpl:

    [...]
    {* this is an EXAMPLE of entries list view='start' - NOT a view='start' of an explicit staticpage startpage! *}
    {if $view == "start" && NOT isset($staticpage_pagetitle)}
        <section class="myCatsaremyCastle">
            <h3>Current {$CONST.TOPICS_OF} {$CONST.CATEGORIES} "1 and 2"</h3>

            <a href="{$serendipityBaseURL}?frontpage">home</a>
            <ol class="plainList">
                {serendipity_fetchPrintEntries category="1;2" short_archives=true full=false noSticky=true use_footer=false limit="0,5"}
           </ol>
        </section>
    {else}
        {if NOT empty($CONTENT)}

            {$CONTENT}
        {else if $view == '404'}

            <p class="msg_notice"><span class="ico icon-info" aria-hidden="true"></span> {$CONST.NO_ENTRIES_TO_PRINT}</p>
        {/if}
    {/if}
    [...]

  * Try to fix 'short_archives' parameter SQL "limit" param sets by Smarty
    {serendipity_fetchPrintEntries ... limit="0,5"} function calls.

  * Fixes to cast some default fetchLimit variable types w/o having option sets

  * [Sync S9y] - Adds 'image_id' to event 'backend_image_add' in addData array

  * Fixup the backend preview iframe height generation for a single image,
    issued by the new image lazy load attribute.

  * Fix add media to entry item display for possible wrong sourceset ghosts

  * Fix passing wrong uri arguments serving the 404 fallback for paging

  * Add entry "post_single" class selector for making user styles being able to
    refer to. Added to [pure, bootstrap, skeleton] themes.

  * Improve Smarty CONTENT block empty return values


Version 3.1.0 (August, 29th 2020)
 ------------------------------------------------------------------------

  * Language cleanups

  * Hide core added modernizr webp check as long as not used and enabled via
        $serendipity['checkWebPFormat'] = true;
    custom variable in a themes config.inc.php file to support old browsers.

  * Tried to improve modemaintain sloopy button issue, now taking a tad longer

  * Fixup non-mySQL maintenance variable logic for the mysql utf8mb4 migration

  * Allow some Rich Text Basic Editor h-formats, by source-added header markup

  * Add new installer diagnose php-xml extension check.
     - Also improves (session/pcre) installer result check returns.
     - Adding installation steps back buttons
     - General review of installation process with fixes, changes and language
       constant additions and/or translation changes.

  * Improve and fixup (sidebar) plugin remoteRSS

  * Extend datetime-local datetime check against invalid user dates

  * Fixup strtotime() old returncode conditionals for current PHP version

  * Per default, add new web Standard(*) lazy-loading image attribute to image
    collocations. This is for saving bandwidth for both, the server and their
    clients, in special for Mobiles, since they will only load anything in the
    current viewport, but not page parts they would never view. This implemen-
    tation is made simple enough for all images with both dimensions you newly
    paste to your blog entries.
    If you are a theme designer or are in need to have an image implicitly
    loaded, please change the image attribute loading="lazy" to loading="eager"
    in the entry forms source code.
    https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-loading

  * Allow Rich Text Basic Editor video content

  * Fix internal (EXPERIMENTAL) caching set for the fetchEntries() SQL query

  * Fix PEAR Cache Lite crc32() filling up starting cache data hash with spaces

  * Fixup backend categories listed entries "restrictedcategories" icons array

  * Fix serendipity embed case URL_NOT_FOUND possible wrong routing check

  * Remove htmlarea htaccess redirector which directory was removed with Series 3

  * Sync [S9y] and fixup sidebar comments "Fix (non-cssbreak) wordwrap at word
    boundaries...".

  * Replace plugin sidebar comments starting comment quote with an alias

  * Fix Atom feed to void parsing HTML comments through nl2br::frontend_display

  * Fix Atom feed_last_modified date being either modified OR feed_timestamp

  * Fixup history sidebar plugin for several multiyear conditions

  * Extend standard [pure 2020] theme per config option to use the codehighlight
    javascript within entries.

  * Add Rich Text Editor support for diverse multilingual blog post elements
    by manually added (pseudo) [lang] attributes for multi lang hyphenations.

  * Fixup old issues in feeds and sidebar feed URLs inclusive labels in plugin
    serendipity_plugin_syndication. If your Users have registered your blog
    feeds by these sidebar URLs before, they could have found inconsistencies
    or "false positives".
    Make sure to give a hint of the new outsigned feed URLs, in special, if
    using the comments feeds! These will be ***/feeds/comments/comments.rss2
    or ***/feeds/comments/comments.atom10, while entry feeds listen on
    ***/feeds/index.rss2 or ***/feeds/atom10.xml.
    Other feed versions, like elder rss or elder atom versions are set deprecat-
    ed and of historical nature.

  * Fix atom feed reader cases with comments having specialchars

  * Fix Maintenance Image Sync option #4 issue, generating all webP files by
    counted 25 item range parts. It could happen that the image API functions
    did not exactly fetch and count the observed image items properly for the
    range generator. This issue was fixed by adding a new by.extension WHERE
    clause filter to the main serendipity_fetchImagesFromDatabase API function.
    PLEASE NOTE:
    If you did run that before for old MediaLibrary items on a pre-3.0 upgrade
    blog, and afterwards encountered missing webP file variations in the Media
    Library where you actually should have some ('jgp' and 'png' image cases),
    please delete them by Option #4 first and then re-run that option for
    generating all variation files (again).
    REMEMBER, by amount this may be a highly resource consuming action!

  * Fix MediaLibrary scaleImage preview for non-webP variation images (cases)

  * Add and enable highlight.js v.10.1.1 assets for HTML comment ckebasic
    based codesnippets themes [pure, pure19, dude].

  * Implement backend comments list comment full toggle all option

  * The backend serendipity_editor.js file(s) in backend templates were
    renamed to be called serendipity_styx.js, which also better implies being
    the backend javascript itself.

  * Improved backend serendipity_editor.js files and all template filter resets
    with media/comments/entries filters to update jQuery method property changes
    for input fields 'checked', 'disabled', or 'selected' states.

  * Moved the Smarty cache directory into archives. Applies to the cached
    backend help files only.

  * Added living standard rel="noopener" attribute to all target="_blank" links.
    Future Browsers will more and more add this securing measure to the _blank
    target by themselves per default behaviour, but not all do. Those who do,
    will only allow the window.opener to change the referrers page when
    rel="opener" explicitly was set in the link.

  * Rename a (imageselectorplus plugin) unused imagelink hook for consistency

  * Improve both "pure" themes responsive max-width flexing in paragraph
    embedded left/right placed images for 1 or 0 sidebar case sizes.


Version 3.0.3 (June, 28th 2020)
 ------------------------------------------------------------------------

  * Improve both "pure" themes mobile footer overlaying last sidebar items

  * Improve "dude" theme expanding grid for fresh installs without having
    any content yet.

  * Improve both "pure" themes for unconfigured explorations and for the
    expanding grid on fresh installs without having any content yet.


Version 3.0.2 (June, 22nd 2020)
 ------------------------------------------------------------------------

  * Update minor CKEditor 4.14.1 assets release

  * Extend the printArchives() counter to exclude group restricted entries

  * Fix undefined index fetching sub categories in plugin archives

  * Improve "dude" theme using a CSS3 grid on desktop sizes,
    replacing the floats.

  * Fix "pure" (2020) standard theme regression for all lower 2-sidebar
    structures, fixing left only sidebars to left and for the flexible grids.


Version 3.0.1 (June, 17th 2020)
 ------------------------------------------------------------------------

  * Add installer list required openSSL version (check)

  * Fixup installer list PHP version label to 7.3

  * Fix wrong cookie assignment condition for addmedia lastdir directory

  * Add (and improve old) upgrade tasks for removed variables leftovers in the
    configuration database table.

  * Improve some lang constant defines for consistency

  * Improve themes backend styles for child or custom themes

  * Allow RichTextEditor comment areas in the dude (theme)

  * Fix Mobiles issue with a 2-sidebar "pure" theme, in combination with htmlcomments
    and frontend used RichTextEditor commentforms, which somehow did prevent Androids
    keyboard APP (Gboard) to stay open for commentfield edits.
    This fix raised the "pure" 2020 theme to now use the modern CSS3 grid technique
    for responsive layouts and requires visitor Browsers using viewport widths above
    1023px to support this. All up-to-date Browsers do!
    The previous "pure" version using a javascript DOM changer is now outsigned as a
    child theme named "Pure 2019".

  * Silence a possible 3.0 upgrade task administrator PHP message warning

  * Improve confusing [de] language maintenance imageSync webP convert message

  * Add pointer cursor to the MediaLibrary mediaGrid cells tasker


Version 3.0.0 (May, 28th 2020)
 ------------------------------------------------------------------------

  * Add new AV1 avif image and missing 7z compressed file formats to guessMime

  * Fix missing voku/simple-cache [S9y] Sync - Set directory opcache
    fallback destination.

  * Rebuild ckeditor for backend source view dataProcessor filters

  * Check and deny sending global configuration form while in mode 503

---- RC2 (May, 19th 2020)

  * Allow mode_rewrite login shortcut: /styx replacing unused /entries
    Save your global config once to make this work.

  * Fix atom1.0 comments feed having breaking characters

  * Fix maintenance media thumb convert task for the staticpage content array
    plus additional minors.

  * Sync [S9y] nl2br: NL2P add missing 'u' inline element

  * Fix pure theme entry images break out block sizes in footer

  * Fix pure theme toggle trackback hint information box

---- RC1 (May, 12th 2020)

  * Removed S9y 2.0-alpha upgrade tasks pointing back prior 2.0

---- Beta1

  * Removed S9y upgrade tasks from v0.5.1 until end of the 1.7 Series

  * Removed S9y SQL upgrade ALTERations for version 0.2 to 1.5

  * Upgrade jQuery library to v.3.5.1

  * Fix frontend comments for very first comment preview

  * Update bundled-libs/voku/simple-cache to 4.0.5
    and add a Uncaught TypeError [...] patch.

  * Trying to fixup lang files wrong set or "wrong" ordered DATE_LOCALES in
    [da, pl, es, nl, pt, pt_BR, sv]. Usage of non-standard *.ISO8859-1* and
    *.UTF8 fallback workarounds (without dash) are now set deprecated and will
    be removed soon. The dutch lang constant now supports both, the nl_NL and
    the nl_BE locales.

  * Add PHP 7.4 fix to importer class instantiation

  * Fix maintenance Plugin Manager task check against installed instances

  * Fix maintenance media task to generate all image variations for old
    occurrences of uppercased media EXTensions.

  * Fix maintenance upgrade task for non-existing cached theme preview files

  * Remove experimental generic.inc DB driver and the Zend-db zendframework.
    Add a 3.0-beta1 removing upgrade task.

  * Upgrade jQuery library to v.3.5.0

  * PHP and JavaScript set Sessions and Cookies DO now SET the "sameSite"
    attribute. Inbound JS Libraries were changed or replaced to support this.
    This regards upcoming Browser changes [ Mozilla 76+, Chromium 80+, ..]
    internally handling and changing the default “sameSite” attribute.
    To avoid future Browser Revisions to reject old Cookies without, this for
    now was hard set wherever possible.
    This raises the PHP requirement to PHP >= 7.3.0.

  * Fix linking media with 'As Picture Element' button when linking elsewhere

  * Add safety check against installed plugins for the Zombie Plugin Manager
    maintenance task.

  * Improve error reporting - do not show extra string debug note for certain
    error types.

  * Upgrade to CKEditor 4.14.0 (revision 8a12b04171)

  * [Security] Secure upgrade URL and context against XSS [low severity]

  * Allow backend 4:3 format image thumbnails without scroll, ie. upload 768x1024
    to 400x300 conversions.

  * Fix history plugin gregorian calendar multiyears leap years

  * Fix up the stateless (picture ->) source element attributes, to only set
    the "type" and the "srcset" in the serendipity_editor.js file when selecting
    images by the picture submit button. This fixes many CSS styling issues we
    had afterwards in themes. All styles by the global fallback_style.css file
    and all themes are getting prepared to remove the mentioned css issue work-
    arounds again. [Done for core themes!]
    Previous entry takes - using this 3.0-Dev version already - have to manually
    reset all these previously source set attributes like "height", "width",
    "alt" and "class". Please check your entries for this by hand (recommended),
    or delete the image or gallery parts and run the media selector for insert
    again.

  * Improve global preset styles for image fluids. Additional changes go to
    [default, pure, dude, next, 2k11, sliver, bootstrap4, skeleton, clean-blog,
    timeline, bulletproof] themes and additional child's like [default-php].

  * Improve and fix new ckebasic core config init for staticpages and other
    normal backend nuggets.

  * Fix webP srcset image missing selected full file name declaration

  * Fix global gallery styles row/col fallback display block for certain cases

  * Fix Rich Text Editor inner Styx styles:
    - WYSIWYG-mode auto scale left and right oriented image floats
    - centered image comment grids for mobile screens
    - improving margins for left and right oriented image floats.

  * Fix 2k11 image comment grids to expand the image inside the container

  * Auto scale left and right oriented image floats in certain themes
    [default, pure, dude, next, bootstrap4, skeleton, clean-blog]

  * Set a new global default .serendipity_image_link and gallery related
    .serendipity_image_block .serendipity_image_link style to style_fallback.css
    for all themes following this scheme.

  * Fix MySQL query statistics issue for possible empty weekly rolling total
    summary.

  * Add NEW simple basic up-to-date Rich Text Editor for core approaches.
    If you want and need an extended version, please install the CKEplus event
    Plugin. This also does take more care of some Advanced Styx Features,
    most presumably hooked via additional Plugins.

  * Remove OLD htmlarea/ based Rich Text Editor

  * Add an "utf8mb4" Collation auto fix for the MySQL "simple" Install routine
    fix to maintenance.

  * Fix d96a121 backend entries list "aclreadgroup" generation for non applies
    and a bug adding entries category links when having more than one.

  * As having pointed out in "Version 2.1-beta1 Styx (September 3rd, 2016)"
    changelog of this file, MariaDB/MySQL uses different utf8 charset
    mappings of the Unicode character set.
    Since the last available highest version was "utf8mb4_unicode_ci", we
    do now even have "utf8mb4_unicode_520_ci" available. Others are in pipe!
    For collation, probably the best 'overall' collation nowadays is the
    versioned utf8mb4_unicode_520_ci. Serendipity Styx recommends to use:
      "utf8mb4_unicode_520_ci"
    as of 2019/2020.

    NOW, WHAT IS IT:

        For utf8_unicode_ci collations MySQL used version 4.0.0 of the
        Unicode Collation Algorithm (UCA).
        This was superseded by UCA version 4.1.0, and now UCA version
        5.2.0 exists. We should keep up with standard requirements!

    KNOW High Level Architecture:

        https://stackoverflow.com/questions/37307146/
        Difference between utf8mb4_unicode_ci and utf8mb4_unicode_520_ci
        collations in MariaDB/MySQL?
        Credits to StuiterSlurf and Kamil Kielczewski

    MySQL collation names follow these conventions:
    A collation name starts with the name of the character set with which
    it is associated, followed by one or more suffixes indicating other
    collation characteristics. For example, utf8_general_ci and latin_swedish_ci
    are collations for the utf8 and latin1 character sets, respectively.

    A language-specific collation includes a language name. For example,
    utf8_turkish_ci and utf8_hungarian_ci sort characters for the utf8
    character set using the rules of Turkish and Hungarian, respectively.

    Case sensitivity for sorting is indicated by _ci (case insensitive),
    _cs (case sensitive), or _bin (binary; character comparisons are
    based on character binary code values). For example, latin1_general_ci
    is case insensitive, latin1_general_cs is case sensitive, and
    latin1_bin uses binary code values.

    For Unicode, collation names may include a version number to indicate
    the version of the Unicode Collation Algorithm (UCA) on which the
    collation is based. UCA-based collations without a version number
    in the name use the version-4.0.0 UCA weight keys. For example:

    - utf8_unicode_ci (with no version named) is based on UCA 4.0.0 weight
      keys >(http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt).

    - utf8_unicode_520_ci is based on UCA 5.2.0 weight keys
      (http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt).

    To focus on details for utf8mb4_unicode_ci/utf8mb4_unicode_520_ci,
    there are problems with sorting/comparing certain letters which have
    a stroke for example. (This and other examples apply to languages like
    polish, czech, greek, turkish, german (i.e. ß=ss), etc., just to name few.)
    For these cases and languages, the sorting Algorithm does return different
    ordered resultsets, depending the collation used, appending sort results
    before, after, or at the same place as the normal letter.
    Different coding system will get you different sorting results. No one of
    this coding is better or worse - it depends of your needs.

  * The history sidebar plugin now offers cached entries for looped year lists
    - which clears the issue of not showing up on certain blog requests,
      like categories/freetags, and
    - now also enables to not send the intro/outro when no listed entries
      are available.

  * Fix last remaining issue with figure comment containers for the PURE
    Standard Theme, regarding small (Standard Thumbs-Width or less) image
    widths between a certain screen range.
    This fix automatically adds a new default style to those image comment
    containers via the serendipity_editor.js file.
    The THING left UPGRADERS have to do by hand is:
      - Add an inline style "display: block" to all of these previously
        set figure comment containers in your entries, which are 400px
        wide or less.

  * Allow looped years for case "one year ago" in core delivered sidebar history
    plugin.

  * Fixed backend commentlist summary strip for concatenated newline space, as
    well as for frontend (plugin) sidebar comments again.

  * Add backend comments list search filter RESET button event

  * Improve sidebar comment plugin stripping out markup so it does not differ
    any more between frontend entries list and single entry view.

  * Add new backend fontello icon build, to change summary_stripped icon in
    comments list.

  * Allow new Rich Text Editor Emoji Panel (button) for the backend commentform,
    also based on the global "Allow HTML comments" option.
    Regard, that the included CodeSnippet currently relies on a CKEplus plugin
    set option codesnippet true.

  * Changed commentform advice margin order, of built-in emoticate and s9ymarkup
    event Plugins, as well as for the upcoming additional_plugins/emoticonchooser
    Plugin, while removing these core Plugin thrown notes in case of the used Rich
    Text Editor.

  * Add a new global templates/theme asset in "templates/_assets".
       - Rich Text Editor, based on a custom build CKE Basic preset.
    Enabled in the current Standard theme "pure" commentform template.
    This is automatically available when the global "Allow HTML comments"
    configuration option is set. Invoke to exclude for theme manager cleanup.

  * Fixup [skeleton, pure] themes form_tarea textarea selectors for consistency

  * Fix an old mixup assignment of entry authors comments conditional variables
    to highlight comments done by the logged-in entries owner/author.
    This fix forced to use new and better variables to select this condition for
    the comments.tpl (entry) and pcomments.tpl (summary) files in all themes.
    Also some styles and style selectors regarding this issue were touched.
    Copy themers: Please update your theme.

  * Remove (disable) .htaccess in sliver theme causing 500 error on some systems

  * Style backend (htmlcomments) comment blockquote (previews)

  * Happy X-mas - Mobile Nav - for the Pure theme

  * Add NEW RE-assign comment(form) replyTO backend feature to fix false
    hung-up threaded comments in threads.

  * Add Emojis to (htmlcomments) CKE comment admin form

  * Sync [s9y] - Fixup trackback delete link for token [2k11, default, sliver]

  * Enable themes comment subscription info messages for logged-in Users

  * Disallow search requests per POST again, since having too many downsides

  * Sync [s9y] - [TASK] Updates serendipity_event_mailer plugin

  * Add cookie based backend entries Quick-Pin ability, to temporary pin
    certain needed entries on top of your entries list (automatically for
    30 days). Use the list filter search to set these few entries and be able
    to unset them in the list again by the pin-point checkbox. To extend the
    pinning time, unset/set from while to while, see pin-icon appended tooltip
    auto counter.

  * Improve backend comment list title by truncate 36 for devices

  * Set personal config "default_widgets" option false on install

  * Declare Smarty stable 3.1.34 release

  * Sync [s9y] - Tag parsing improvements to NL2BR plugin "nl2p" option

  * Remove deprecated hotfix for freetag autocomplete scriptlets

  * Fix doubled title attribute when using linked images in entries.
    Also adds default image titles to gallery placed image/links.

  * Style backends entries list titles unbreakable and auto truncate, by
    listening to small devices first.

  * Rework media template markup to display audio/videos as HTML5 media player
    objects in the MediaLibrary and the add_to_entry layers, as well as in
    WYSIWYG-Editor textareas.

---- Alpha4

  * Add alpha4 upgrade task for backend template rename

  * Rename default Standard Backend 'template_backend' to Styx (styx)

  * Add new internal core maintenance (mlorphans) event plugin to allow to
    research and even cleanup MediaLibrary image orphans. This applies to blogs
    with more than 100 images only.

  * Simplify WYSIWYG-Editor Toolbar selection (the default is "Standard")

  * Add/Fix image upload feature to remember last selected directory

  * Fixed a 3.0-Dev regression for MediaLibrary (js) multi file uploads

  * Partly Sync [s9y] -
    Fix auto-generated imap_8bit encoded email line break issue for qmail (MTA).

  * Remove outdated IE8/9 browser workarounds for the 2styx Backend theme

  * Allow fetching virtual Backend files with nice URL, eg serendipity_editor.js

---- Alpha3

  * Add urgent 2.9.2 upgrade tasks for back and forth treats (see 2.9.2 below)

  * Remove deprecated MS Frontpage extension excluding check in MediaLibraries
    uploads/ dir. Upgraders:
        Make sure you don't have any cadaveric '_vti_cnf' directories left!

  * Extend Theme manager Maintenance task for Spartacus cached image previews

  * Add alpha-3 upgraders upgrade task for conditional template_cache cleanup

  * Changed [Default, Next and 2k11], and added Pure (2019), regarding the
    Standard Theme change, and additional add [The Dude, Sliver] theme multi
    language info property informations.

  * Add Core Notice upgrade task for the new themes repository, now making
    the Serendipity Styx Edition fully independent.

  * Upgrade Spartacus to support the NEW Styx additional_themes repository of
    2019. To see this in action in your "Theme List", you need to enable the
    2cd option: "Enable the use of Spartacus for fetching themes?"
    in your Spartacus plugin configuration and reload your themes.

    [HIGHLY NOTE]:
      If you had this enabled before, you need to purge the stored cache files
      in "templates_c/template_cache", to get the new ones (recommended!).
      Styx will later on try to prepare an upgrade task for the upcoming
      3.0-alpha3 revision.

    All additional_themes were UPGRADED to HTML5, were fixed and basically
    upgraded for Serendipity Styx 2.1+ revisions.

    DO NOT (!) just drop them over previous installs!
    Use the Maintenance :: "Theme Manager Clearance Spot" to fully clean up
    additional themes physically in the file system before.
    BEFORE that, make a BACKUP COPY of personal or custom changed themes!

  * Retire functions API REQUEST2 'ssl_verify_peer' PHP < 5.6 workaround

  * Retire PHP5 $HTTP_RAW_POST_DATA workaround for PHP7 php://input stream

  * Raise minimum PHP 7.1.3 requirement to installer and config, which removes
    the login cryptor 'aes-256-ctr' fallback class.

  * Add upgrade task for PHP5 random_compat and cryptor libs retirement

  * Remove PHP5 fallback for install(er) token generation

  * Remove bundled random_bytes() and random_int() polyfill for PHP5

  * Change Standard Core theme to Pure (2019)

  * Add Sliver, The Dude and Pure (2019) to core themes

  * Partly Sync [s9y] - Add voku/simple-cache for internal (entries SQL query)
    cache as a new bundled-lib to replace the old PEAR Cache/Lite library.
    This new approach will allow to cache with memcached and redis Memory
    caches, instead of just only in the filesystem. See:
        Configuration :: General Settings : Enable caching (EXPERIMENTAL)
    option.

    This moves the cache methods into functions.inc.php, resulting in this API:
      + serendipity_setupCache() (used internally)
      + serendipity_cleanCache()
      + serendipity_cacheItem($key, $item, $ttl = 3600)
      + serendipity_getCacheItem($key)

    Real databases like Maria/MySQL/PostgreSQL internally have their own and
    probably much more efficient caching mechanisms, beside of Serendipity itself
    uses a 5 min cache by default on certain database queries.

  * Remove theme "Recommended" parameter option. This now is replaced and
    declared by/as a "Core Themes" block in the backends theme list.
    Please remove the "Recommended" info parameter option in custom themes.

  * Remove long deprecated and with PHP7.4 removed get/set magic_quotes_runtime
    calls in bundled Pear libs (HTTP/Request2, Cache/Lite).

  * Add new picture element to the frontends style_fallback stylesheet to get
    around some odd issues with commented image floats.

  * Remove some elder core themes to additional_themes. Adapt the maintenance
    core themes array to now allow removing these themes:
        'blue', 'carl_contest', 'competition', 'contest',
        'default-rtl', 'default-xml', 'idea', 'kubrick'.

  * Extend theme info properties with a "Responsive" and a "Mobile" parameter
    flag to get rid or extend "Recommended" in future.
    Already use these new properties with the main core themes.

  * Fix spamblock plugin for non-GD captchas with upcoming PHP 7.4

---- Alpha2

  * Extend Maintenance task serendipity_generateVariations() with missing
    creating WebP thumbs variations. Now we are able to delete and rebuild,
    or create full media variation builds once for Upgraders.

  * Fix range array for Maintenance task serendipity_generateVariations()
    for case less than part(icular) range of 25 media items.

  * Upraise Development Alpha version to 3.0-alpha2, to allow upgrade tasks
    and document WebP development features have more or less finalized.

  * Add new global $serendipity['http_accept_webp'] Variable

  * Add auto-installer check for Image Libraries WebP-file-format Support.
    From now on you don't need to manually set this global
    $serendipity['useWebPFormat'] variable (see notes below) on fresh installs.
    Upgraders will have to wait for upcoming 3.0-alpha2 release!

  * Add full MediaActions re-naming/re-moving WebP-Variation replacement Support
    for all database stored entries and related tables like staticpages, caches,
    properties, etc. Keep your Plugins updated!

  * Add counterpart function to the "Build WebP Image Variations" Maintenance
    MediaLibrary Synchronizer, to delete all WebP-Format Variations at once.

  * Fix some remaining unchecked images API debug logger object treats

  * Extend database entries replace matches for media properties format changes

  * Fix serendipity_formatRealFile() result set handles for correct IMAGE libs

  * Fix a strange issue with the WYSIWYG-CKEditor and selecting a single image
    <picture>-Element-Submit without being an "is-link" for an entry. For the
    moment this rare case issue, which somehow removes the <picture> element,
    is resolved by adding a surrounding div container.

  * Removed old ChangeLog entries below the Styx 2.1 Development to the
    NEWS_OLD file.

  * Allow additional WebP-Format Thumbnail scaling when scaling an image,
    which is not a default setting for certain reasons. See scaling image
    info notes!

  * Add EXPERIMENTAL on-the-fly change Grid Columns to the Theme List

  * Removed non-scoped javascript deprecated image wrapper methods.
    All supported additional plugins were counter checked.

  * Enhance MediaLibrary sort row interval for the new on-the-fly Media Grid
    Handler, so it supports valid media fetch interval divisions for the Mid
    and Max grids.

  * Add EXPERIMENTAL on-the-fly change Media Grid Columns to the MediaLibrary.
    To make this a valid and nice request you may have to set up the Media Sort
    Files per Page option.

  * Bugfix entries gallery insert empty 'multiSelect'ion catch to back-message

  * Add silent support on IMAGE DELETE to purge image WebP file variations too

  * Changed the MediaLibrary stylesheet to not hide media thumbnail parts,
    from portrait-orientation sizes, or squared images, or even non-thumbed
    external hotlink files, that overflow the equal height inner box size.
    Now they are shown in their correct thumb size, but are given a scrollbar
    in case, which is better to have than to forget about it.
    This also seems appropriate for the case the Administrator changes the
    default image preview size in the Image Configuration Panel.
    The only exception for this is the Styx Media Gallery selection preview.

  * Add EXPERIMENTAL support for image file format changes to the MediaLibrary.
    This is added to the media properties form page and supports "JPEG", "PNG",
    "GIF" and "WebP" format changes. This has nothing to do with the WebP
    variation file support added before and is only applied to the ORIGIN image
    and its thumbnail file.
    Existing variation files are not supposed to change when changing the image
    format.
    The GD Lib settings were tweaked to avoid a WebP format quality loss for this
    case, which may make usage of to-WebP format changes obsolete here.
    Read the INFO NOTES on place in the media properties form.

  * Rename old image functions to follow the camelCase principle in the images
    API:
        serendipity_functions_gd()    => serendipity_functionsGD()
        serendipity_rotate_image_gd() => serendipity_rotateImageGD()
        serendipity_resize_image_gd() => serendipity_resizeImageGD()
        serendipity_calculate_aspect_size() => serendipity_calculateAspectSize()

  * Disable overcomplicated MediaLibrary upload "Go Properties" set metaActionBar

  * Allow new picture element variation approach on scaleSelect page

  * Refactor MediaLibrary media properties form action to its own image action
    switch 'changeProperties'.

  * Refactor MediaLibrary single media properties array POST items

  * The improved IMAGE media upload and conversion handlers have some
    interesting highlights to know about:
    Giving you an example JPG comparison image file with:
            MIME-Type: image/jpeg
            Image size: 1435x732
        Serendipity Styx 2.9.0 with ImageMagick 7, results in:
            File size: 1.351,06 KB
            Thumb size: 400x204
            Thumb File size: 88,29 KB (jpg)

        Serendipity Styx 3.0-Dev with ImageMagick 7, results in:
            File size: 1.351,06 KB
            Thumb size: 400x204
            Thumb-file size: 7,92 KB (jpg)
        In additional WebP file format Variations:
            Image size: 1435x732
            WebP-File size: 478,08 KB
            Thumb size: 400x204
            WebP-Thumb size: 3,06 KB

        With 3.0-Dev using the GD library this results in:
            File size: 1,351.06 KB
            Thumb size: 55.29 KB (jpg)
        In additional WebP file format Variations:
            WebP-File size: 49.25 KB
            WebP-Thumb size: 2.78 KB

    These are the results of a fresh upload. Further UP-sizing an image
    with the MediaLibrary image scale option may result in unexpected sizes,
    since the NEW Styx ImageMagick Q16/Q8 bit handlers with gamma correction
    do help a lot to improve sizing an image DOWN, but "can" do as well blow
    up a media file in case of sizing it UP, all depending on the origin files
    quality and compression, its colors and levels, and its subject complexity.

    So YOU will have to play with it to get the right feeling for (re)sizing.
    But as you can see, the uploading result is already better uploading
    a file with 3.0 as it ever was with 2.x, without refer to the additional
    WebP format improvements. Sometimes the GD lib even beats ImageMagick,
    since GD is set to use a "quality 75" setting while ImageMagick currently
    uses "auto", but the second is the far better library.

    The major ImageMagick 7 library upgrade takes the rest of making image
    file manipulations a very exiting thing to do in Serendipity Styx.
    The goal to achieve is to always use the best available file format for
    performance and page loads.

  * Extend the MediaLibrary Synchronizer for the new WebP image format to
    regenerate, keep, pre-delete and rebuild the image thumbs with their
    format Variation dependents.

  * Add an EXPERIMENTAL WebP image "upgrade" task in the Maintenance Image
    Synchronizer section, which can be processed once by an ACL approved
    user. This runs an image list iteration by a given range of 25 image
    items each to hopefully not exhaust memory errors.

  * Hide Maintenance Image Synchronizer section (thumb) suffix task, when
    there is nothing to task about.

  * Remove GD GIF to WebP conversion support, since that fails with animated
    GIFs (at least for the moment).

  * Added GD library image WebP scale/resize and rotate actions.
    In special for the latter action (with both image libraries) it still
    lacks a user information about too sticky list image views, not always
    showing the current "rotated" image state after the action was processed.
    It most times just looks as have being failed, since there is no visual
    change. YOU need to FORCE a MediaLibrary browser reload!

  * Add EXPERIMENTAL WebP image file support to the MediaLibrary for PHP 7
    with GD image library enabled WebP support. See all related notes
    previously.
    Create and run GD to WebP format for upload images and their WebP ext-
    sion variations. As mentioned before, you NEED to set the global
    $serendipity['useWebPFormat'] variable manually and use all of this
    with a little more care than usually.

  * Improve backend entries list by adding restricted group enhancing
    category icon information.

  * Add frontend theme javascript modernizr link fallback scriptlet to
    check for Styx backend WebP support and an is-Set frontend theme (modern)
    modernizr object with WebP module support, returning a non supporting
    client browser.
    If you want to support old lame browsers in your theme, please include
    a modern 3.x modernizer build with webp module check into your themes
    index.tpl head load. @See: https://modernizr.com/download

  * Add EXPERIMENTAL frontend WebP and picture element support via entries
    MediaLibrary to textarea builds.

  * Prepare WYSIWYG CKEditor ACF allowance for upcoming picture element
    and source tag usage.

  * Add EXPERIMENTAL WebP image file support to the MediaLibrary.
    Valid image file upload formats like PNG/JPG/GIF etc - as well as their
    thumbnail files - are automatically converted to a WebP image variation,
    stored in a special directory underneath the current relative path.
    These WebP image variations are NOT stored in the images database table
    and are currently used only to vastly improve the MediaLibrary using these
    much smaller image files. An example upload image named "fjord.png" has a
    MIME-Type: image/png and a DIMENSION of 550x368 pixels. Its SIZE is 366 KB.
    The png thumbnail variation of 400x268 pixels is at ~188 KB in size.
    The WebP generated dependents are at 33 KB and 16 KB, without any visual
    quality loss. If your browser supports webp images, they are still out-
    lined as *.png files, but shown and fetched as *.webp filed images.

    You can imagine what this means for performance and page loads!
    The CURRENT DEVELOPMENT caveat is, that this only works with ImageMagick
    (see in your Serendipity configurations) and this as least as an IM 6.9.10.x
    version (see the notes in the Styx 2.9.0 changelog below) and therefore has
    to get manually enabled by adding:
        $serendipity['useWebPFormat'] = true;
    to your serendipity_config_local.inc.php file (see user variables section).

    The CONCEPT of image OBJECTS (the file you upload and its dependent thumb-
    nail file "variation") and additional image VARIATIONS (like webp), is to
    support things like image (media) sourcesets and the HTML5 <picture> element
    tag. Instead of having one image that is scaled up or down based on the view-
    port width, multiple images can be designed to more nicely fill the browsers
    viewport. The <picture> element holds two different tags: one or more <source>
    tags and one <img> tag as a fallback.
    The Clients browser decides which file to pick up.
    This is enhanceable by adding different @media screen sourcesets to the <source>
    tag(s) to support special sized media loads on different client devices.

  * Add new image API function serendipity_updateSingleMediaProperty() for
    updating single changed media properties (see rename real files examples).

  * Refactor MediaLibrary by adding a ImageMagick CLI interface solution.
    Improves ImageMagick Q16/Q8 binary handlers for resizing, quality etc.

  * Removed totally outdated "Engine: Yes" theme info stack check.
    Engines are set by names since 2014.

  * Allow Styx backend templates/themes "gallery" using WebP formated
    preview and fullsize images, which drastically reduces page loads
    by ~28% of (each) size. If a WebP image isn't available in the theme
    or the browser used does not support it, it has a fallback to the
    origin preview.png and/or preview_fullsize.jpg files. The fallback
    even distinguishes for the case that the preview_fullsize.jpg is less
    in size than the smaller preview.png file, which is possible with the
    png file format. Browser support, see https://caniuse.com/webp

  * Update backend modernizr library to 3.6.0 including webp

  * Create WebP images for the backend themes previews

  * Raise required PHP version to 7.0 until further


Version 2.9.6-Dev ()
 ------------------------------------------------------------------------


Version 2.9.5 (2020-05-02)
 ------------------------------------------------------------------------

  * Fixup 2.9.4 lopping through empty sidebar plugin purge selection

  * Fix spamblock filter checks with certain regular expressions in the
    comments list.

  * Fix user MD5 migration authentication hashtype for BCRYPT since Styx 2.5.0

  * Fixup Styx Smarty 2.4.0 dead files upgrade task for later reinclusion

  * Fixup Serendipity 2.0.2/2.1.0 upgrade task file removes for Styx 2.6.0

  * Fixup backend comments Pingback summary block

  * Fix DB utf8 maintenance migration task and set a strict mode session
    tweak for table migration ALTERs.

  * Fix spamblock [*]_htaccess table query to prevent failure on mysql >= 5.7

  * Silence some PHP 7.4 deprecation warnings using cache lite


Version 2.9.4 (2020-04-03)
 ------------------------------------------------------------------------

  * Fix Spartacus Plugin Synchronisation for local purged sidebar plugin cleanup

  * Fix Spartacus Plugin Synchronisation for local sidebar plugin upgrades.
    Now that the wrong locationtype was fixed (see before), the Synchronisation
    could do its job, purging and creating the pluginlist items correctly.
    This revealed missing another setPluginInfo() run for the local sidebar
    list to checkout the 'upgrade_version' for being 'upgradeable'.
    This runs once only on upgrades and/or opening the sidebar install list
    for the very most local plugins.

  * Fix Spartacus Plugin Synchronisation, which sometimes signed certain
    plugintype (event|sidebar) wrong for Spartacus/Plugin request actions.
    This extends the Plugin API setPluginInfo() method with a new 6th type
    parameter.
    This all will make using Zarathustra tasks obsolete at the very end.

  * Fix media.base_properties property_subgroup 'ALL' keys assignment for
    media_items.tpl fields. Regressional fixes in admin/media_choose.tpl and
    frontend related media_showitem.tpl template themes
    [default, default-php, 2k11].

  * Fix Mysql "simple" Install routine for utf8mb4 usage, while not having access
    to an "utf8" defined SQL_CHARSET and thus not setting the "dbUtf8mb4_converted"
    configuration var. Auto fix previous "simple" installs by maintenance check.


Version 2.9.3 (2020-01-10)
 ------------------------------------------------------------------------

  * Plugin s9ymarkup: Improving fixes for underscores and check htmlcomments.
    Do NOT use for others than comments, if internally using a markup plugin
    or the WYSIWYG-Editor.

  * Allow comments sanitizeHtmlComments() strikethrough <s>, underline <u>,
    while being part of the CKE admin form toolbar.

  * Fix jumbled themes comments conditional trace path

  * Fix a comment subscription bug not deleting old saved sessions

  * Fix certain comment NL2BR parsing bugs with allowHtmlComment option cases

  * Sync [s9y] - Fix an old bug with backend Smarty template added hooked
    plugin media file and spawnNuggets parameters.

  * Fix core CKE added procurator plugin for some s9ymdb tagged cases to
    prevent {cke_protected} data.

  * Add a hardcoded $serendipity['max_page_limit'] variable to avoid
    break(-in) attempts.

  * Bugfix MediaLibrary 'addmedia_directory' cookie assignment issue

  * bbcode event plugin: Fix some missing list-style-type styles

  * Sync [s9y] Better check global $_GET HTTP Request-Var reference.
    Prevents PHP warnings (Issue 642) thanks to @hannob

  * Escape category icons to avoid malicious backend XSS. Thanks to @hannob.

  * Fix minor backend styles regression with global figure/figcaption styles

  * Fix class selector typos in Skeleton theme

  * Sync [s9y] Only allows .txt and .log files for spamblock logging.
    Thanks to Gary O'Leary-Steele (CVE TBD)

  * Sync [s9y] Fixes not properly displaying plugin save errors (validation)


Version 2.9.2 (2019-09-12)
 ------------------------------------------------------------------------

  * Add WYSIWYG-Editor fallback styles to elder defined gallery image_blocks
    without col or row defines. Same applies to global default/style_fallback
    in the frontend.

  * Add sidebar comment widget styles to break long URLs overflows to [2k11,
    next] themes.

  * Fix backend sidebar Maintenance link permission for special cased user
    which has siteAutoUpgrade permission to perform the 503 Maintenance Mode.

  * Please read the important core upgrade configuration notes for the 2.9 repo-
    sitory branch versus upcoming Serendipity Styx 3.0 Next master branch at:
      https://ophian.github.io/2019/08/19/Serendipity-Styx-2.9.1-released/

  * Fix and simplify the quick de-select(ion) of sticky-set entries by entries
    list, which oddly did not properly delete the sticky attribute, and so an
    un-stickied entry never fell back into the list ordered line.
    If you have already used this feature, please re-check these entries for
    their database ID (easy to get known by hovering over this entries task
    buttons in the entries list) and run this command in a tool like phpMyAdmin
    to unset the entries sticky attribute in the entryproperties database table.
    [Change "PREFIX" and "X" to your needs]:
      DELETE FROM PREFIX_entryproperties WHERE entryid = X AND property = 'ep_is_sticky'

  * Fix stable Archive assigning wrong pagination values in entries API again,
    which was working right, but had the issue of not setting navigation points,
    like the "X page of N" header and possible navigation buttons, to follow the
    stable archive principle of directional past/future switch, like in the
    timeline theme, which definitely was doing right, but was totally confusing.
    Now everything is much simpler and a page 51 is page 51 example-wise and so on.


Version 2.9.1 (2019-08-19)
 ------------------------------------------------------------------------

  * Fix some core and plugin occurrences of wrong set full path concat slashes
    and use the defined constant for the Smarty compile dir where appropriate.

  * Fix optional stable Archive in the entries API, assigning wrong pagination
    values, so that any Themes entry paginations got wrong start values for the
    current page, and for the page calculations for prev/next link pages.

  * Improve Timeline theme for Smarty integer operation conditions

  * Fix 2k11/next theme styles for "flexed" <hr/> element lines and in-bound
    galleries display(s) under certain conditions.

  * Add default figure/figcaption stylings to the style_default stylesheet

  * Add htmlarea CKE config new figure/figcaption elements to the ACF
    extraAllowedContent string to support this for display and saving!

  * Fix MediaLibrary media rename allowance for non-images like media objects

  * Fix some unchecked images API debug logger object treats

  * Fix backend pluginmanager non-POSTED 'authorid' update_plugin_owner update
    on moving plugins.

  * Fix SQL check for maintenance Image Sync option 4: "convert" thumb prefix
    name to not fetch empty thumbnail field names.

  * Fix 'is_image' wrong file 'location' assignment for hotlink cases

  * Fix serendipity_makeThumbnail() bug not returning the newsize sizes for
    messaging.

  * Fix a MediaLibrary bug within the Smarty link assignment for non-internal
    images.

  * Fixed an old bug in serendipity_insertMediaProperty() property_subgroup
    parameter to remove DB mediaproperties table field items before inserting
    them again.
    In view of Styx having fixed the sql layer files for error purposes, this
    now showed up as valid errors in serendipity_insertMediaProperty(), since
    possible DB items were not (properly) removed before inserting them (again).

  * Add theme checks for old and unsupported themes with "Engines: Yes"
    (i.e. wp-compat) preview image files, adding a WebP image once if
    no preview.png file is available and that hints to remove the theme
    via maintenance (WebP able browsers only).
    Second, checks for loading performance and size (png vs jpg).
    With Styx major next 3.0 revisions these themes will probably be
    auto-converted. Upgraders, please check them yourself until then.


Version 2.9.0 (2019-06-01) - Give Peace a Chance - 1969
 ------------------------------------------------------------------------

  * Due to the template focused Styx 2.8.0 version was somehow delayed in
    April and then overrun by a flood of Core improvements and fixes, the
    version was abandoned in favor of 2.9.0.

  * [NOTE] A word about (server) Distribution politics for the ImageMagick
           graphics package and new exciting image formats.
    There are two current versions of ImageMagick, the LTS-alike version 6,
    which will be supported for another 7+ years and the rewrite version 7,
    being a little more strict and which becomes new features and enhancements
    etc. This will give legacy applications more time to upgrade to version 7.

    The current stable Debian 9 "stretch" is running IM 6.9.7.x, while upcoming
    Debian 10 "buster" and "sid" are at IM 6.9.10.x versions. That means, it seems
    that even for dist-upgrades the next ~5 years there will be no change, without
    giving the opportunity to run both versions co-existing in your environment.
    Same issue for Centos/Fedora or Ubuntu. Fedora Devs stated to support the
    co-existing tooling, so that migration is at least possible over the years.

    Serendipity Styx does already support ImageMagick 7 processing.

    WebP support is another thing coming up. As you might have noticed, bigger
    web sites already use WebP images more and more. WebP is a new image format
    developed by Google, which is both, lossy and lossless. WebP-related software
    is released under a BSD license. It is a sister Project of VP8 video and WebM
    multimedia formats. I am truly convinced that this will be the NEW open
    standard for lossy compressed true-color graphics on the web in the near future,
    producing much smaller files of comparable image quality to the older JPEG and
    PNG schemes. There are limitation as ever, since you need a browser to support
    it - well, and the good thing is the most already do - and you need PHP builds
    enabled --with-webp, you need either PHP GD having it enabled (see gd_info())
    or ImageMagick build with webP support, which is ready for Debian 10 since
    6.9.10.23+dfsg-1 version (see above).

    Unwilling to wait?
    You can do one thing about it now. Load the free available tool cwebp and pre
    convert your images to the new format before you upload them to your blog. If
    you then have PHP 7 with GD enabled WebP support or even the mentioned IM (or
    better) versions, then you can already use WebP in your Styx MediaLibrary with
    success. If not, you cannot create an upload auto thumb of this format for the
    moment and probably have to wait until Styx will release the next major version
    3.0.

  * Re-allow MediaLibrary media purge issue, since 2.1-beta1 on Feb 4, 2016,
    if "Standard User" GROUP has correct adminImagesDelete permission.

  * Use new lang constant for the group members label

  * Fix CREATE NEW group action message for passed-over name variable

  * Improve Users and Groups list for readability and visual difference

  * Improve Users list order by userlevel before sorting natural by realname

  * Add new group related, buttoned informational messages (per lang constants)
    for the ADMIN / Editor in CHIEF based differing group administration.

  * Add a NEW administrative group permission flag: 'siteAutoUpgrades'.

    For the case you have a MULTIUSER system, and there you have an "Editor
    in Chief" user which you want to also access site Auto-Upgrades, you can
    do the following for example as the ADMINISTRATOR.
    Either:
      - ADD a new SPECIAL group with 'siteAutoUpgrades' [x] permission AND
        'Hidden group / Non-Author' [x] and assign it ADDITIONALLY to this
        single "special" user afterwards in the USERS administration section;
      - OR copy the CHIEF group to a CHIEF+ group including 'siteAutoUpgrades' [x]
        and assign this group - including the CHIEFDITOR group - SINGULARLY to
        the "special" user of request.
    Although the second does look more straightforward, the first is the
    recommended and easier approach!
    Do not change the CHIEFEDITOR group itself, for security!

  * Restrict the (dashboard) auto-update method to the Administrator only.

  * Fix wrong USERLEVEL_EDITOR_DESC and USERLEVEL_CHIEF_DESC constant translations
    for [cs, cz, sk] languages.

  * Improve category counted entries by-author-notation for the improved counter

  * Improve entries counter for categories, by giving up the too strict set
    authorid-only SQL fetch for high-privileged user (groups).

  * [Security] Deny non-privileged grouped users to add sub-categories to
    categories by others. This sadly has the downside of being unable to do
    this on self created categories too (eg. standard users), though.
    You then have to ask an Editor in CHIEF or the ADMIN for it.

  * [Security] Fix bug, that a less-privileged user was allowed to edit other
    authors categories without having (group) permission.

  * Add pdo-postgres to backends categories db type SQL division

  * Fix backends wrong category write permission "selected" selection

  * Remove Mozilla CSS hack due to End-Of-Life with next Firefox 68 version in
    the backend and the "default" frontend theme. Read about it here:
    https://www.fxsitecompat.com/en-CA/docs/2018/moz-document-url-prefix-css-hack-will-no-longer-work/

  * Add a backends entries list quickie to easily de-select a stickied entry

  * Fix backends pingback comment action block margin for media screens

  * Fix group permission_* constants for the permissive variable name in
    [cn, cs, cz, fi, hu, ja, tr, zh] languages. DO NOT translate or dismiss!

  * Fix backend comments list (count) SQL query for (non-)privileged users

  * Do not present the quickjump spamblock configuration button for non-authorized
    users in comments.

  * Do not show rename scriptlet for non-authorized users in MediaLibrary

    PLEASE NOTE: Further finetuning of permission by GROUP and the users ID,
                 i.e. to delete images OF and BY this particular user only,
                 is negligible, since the MediaLibrary always runs with ID 0,
                 which is NOT some kind of superuser, than a not set authorid.

                 Strictly having this since S9y 2.1, this pasts back to 1.3 or
                 1.4 Serendipity versions, where the media library use of correct
                 authorid was given up, due to user error experiences, for the
                 simpler use of only ACL access-control based permissions, not
                 media items themselves.
                 Sadly some of these ACL permissions won't work without having a
                 real authorid to condition the output themselves.

                 NOW, since these media functions have developed, we could even
                 reopen this in future. Please file an issue or valid request to
                 discuss.

  * Fix for Standard editor`s permission to view and pass MediaLibrary images
    via popup.

  * Fix the entryforms javascript hidden extended entry textarea for the plain text
    Editor, by a previously possible set localStorage cookie.

  * Fix the dashboards db query in Styx 2.2.0 "no default widget" option for authors

  * Improve backends comments list comment header for length

  * Fix commentpopup commentform condition for time-frame(d) "allow(ed)_comments"

  * Extend spamblock time-frame option (since Styx 2.6.0) for trackbacks

  * Upgrade jQuery lib to version 3.4.1

  * Note UTF8 mb4 support ready for SQLite3 and PostgreSQL since version 9.4

  * Remove maintenance restriction note for entries media replace/rename iteration
    with non-MySQL databases.

  * Add is_countable() PHP < 7.3 polyfill to the functions API

  * Fix (old) bundled libs XML/RPC because of PHP7 new count() warnings

  * Check for "non-Internet" image formats already uploaded to the MediaLibrary
    and place a detailed image EXTENSION handler error message in the scale
    image and image properties pages.

  * [UPGRADERS] Some elderly Serendipity systems might have a mis-configured, or
    elder set default value in the "Media properties" option field configuration,
    issuing missing fields in the MediaLibrary filter options search form, or the
    media per item mediaproperties form.
    Please check that your settings in Sidebar "Settings" :: "Configuration" :
      "Image Conversion Settings" (tab): "Media properties" option
    do reflect your actual needs or special sets. Else better reset the value to
    "DPI:IMAGE;RUN_LENGTH:VIDEO:AUDIO;DATE;COPYRIGHT;TITLE;COMMENT1:MULTI;COMMENT2:MULTI;ALT"
    without quotes and in this order.

  * Fix both postgres and pdo-sqlite serendipity_db_query() SQL error backtrace
    conditions to consistently emit only when $reportErr (4th parameter) is set.

  * [Security] Secure non-production state SQL (4th parameter) forced backtraced
    errors with PHP DEBUG_BACKTRACE_IGNORE_ARGS bitmask.

  * Add image thumb KB file size to MediaLibrary item info array

  * Fix db/mysqli thrown (and missing) error reporting, depending on blogs
    $serendipity['production'] state.

  * Fix db/sqlrelay for error message consistency

  * Improve fallback condition in entity/specialchars wrapper functions

  * Fix wrong constant declaration in modemaintain plugin

  * Fix getimagesize() full file path for MediaLibrary media info

  * [Security] Sanitize simple printed $sql errors in db layers, which also
    helps showing up complete error messages in cases.

  * Improve some media rename item related messaging

  * Remove the image (file | filedir | dir) media rename limitation from
    MediaLibrary and entry related databases like (entries / entryproperties
    cache / staticpages) and now support all current db layers, although the
    MySQL regular expression is more precise and recommended at all.
    References staticpage event plugin update v.5.68.

  * Fix regression in #28e1dfd for staticpage media item rename actions, when
    this had no corresponding value in entries DB.

  * Sync [s9y] image comment change:
    - Use figure/figcaption markup for media db images w/ captions.

  * Fix media rename actions in entryproperties cached entries for maintenance
    task "convertThumbs".

  * Allow automatic media item renaming actions of entryproperties cached
    entries too. (See previous staticpage changelog entry for staticpages.)

  * Fix some wrong heading serendipity_convertThumbs() debug log entries

  * Allow renaming of staticpage entries media object links and link/image
    items via the MediaLibrary too. Temporary(?), and similar to
    serendipity_convertThumbs() actions, established in core.

  * Sync [s9y]: Add hidden mediaID tag to media object links added to entries.
    This enables automatic entry link renaming when this file is renamed
    via the MediaLibrary.

  * Allow serendipity_setCookie() function to auto-set the HTTPOnly flag,
    under certain default parameter condition, to protect against XSS flaws.

  * Improved [de, en] forced moderation descriptions in spamblock plugin,
    to clear up minds for what is meant with use or reset.

  * Extend serendipity_plugin_comments with a "bodyclone" trackback placeholder

  * Changing the default wordbreak option of serendipity_plugin_comments,
    by adding a new 'cssbreak' (default:true) option for theme css comment body
    (word) break behaviour styles.
    This changes and overrules the wordbreak option!
    UPGRADERS: Check your Settings and Sidebar appearance!

  * Allow to receive special cased multi valid trackbacks from one entry, when
    spamblock plugins (recommended!) option "check duplicate comments" is set.
    (thanks @mmitch (gitHub)!)

  * Add missing success message style to [blue, bulletproof, carl_contest,
    competition, contest, default-rtl, idea] themes.

  * Fix serendipity_image_center styles regression in the "next" theme and
    add a real serendipity_image_center selector style to the "default" theme.
    UPGRADERS: Please check your COPY themes.

  * Fix kubrick theme wrong commentlist selector style and add the commentpopup
    template file modified, since using ol li lists.
    UPGRADERS: Please check your COPY themes.

  * Improve commentpopup template file with "frontend_header" hook, for possible
    jQuery capabilities (eg. CKEplus highlight code) and specific styles in
    [bulletproof, default, default-php] themes.

  * Fix old ".container_authors/quicksearch_xxx" css plugin class name selectors
    since 2.0-beta1, in early 2014. Applies to [blue, bulletproof, carl_contest,
    competition, contest, default-rtl, default, idea, kubrick] themes.

  * Allow search requests by post forms

  * Check API method first in 2k11 theme config, for theme switches

  * Add min-width to default theme sidebars

  * [Security]: Sync [s9y] - Fix XSS in Media Library by interpreted EXIF tags

  * Sync [s9y] nl2br plugin nl2p-mode changes (partial)
    - Fix bug in p-mode that ate pre elements
    - Improve nl2br p-mode to work with <strike> tags

  * Sync [s9y] timeline theme update

  * Fixup non-standard $entry.plugin_display_dat emitting place in [2k11,
    bootstrap4, clean-blog, next, skeleton, timeline] themes.

  * Improve comment.php assignment for commentpopup templates comment author
    self condition, in [default, default-php] themes.
    Change applies to all falling back themes, even the Standard-theme.

  * Improve conditional comment popup entries list links in [2k11, default,
    default-php, next] themes

  * Add serendipity_commentlist container for consistency, referring to
    serendipity_trackbacklist container in ["carl_contest", "competition",
    "contest", "default", "default-php", "kubrick"].
    Also applies to the commentpopup template file.

  * Fix display of trackbacks in default-php emulator theme

  * Fix "entries.tpl" template file logical "millennium bug", not showing trackbacks
    in single entry views, when having enabled (frontend) $use_popups, which is for
    entries list links only. This simplifies conditionals at all.
    Applies to: ["bootstrap4", "bulletproof", "carl_contest", "competition",
    "contest", "default", "default-php", "kubrick", "next", "skeleton"] themes.
    UPGRADERS: Please check your COPY themes.

  * Add serendipity_trackbacklist container to [carl_contest, competition, contest].
    References b0ba198 in default theme.

  * Changed default theme for using the "read more" container as a paragraph
    and adding the entries summary title to the same format tag as in entries
    for consistency, and never use more than 2-chars abbreviation for the
    calendars head, since expanding too wide.

  * Simplify entries footer container conditions and move the entries_footer
    hook out. Applies to ["bulletproof", "carl_contest", "competition",
    "contest", "default", "default-php", "kubrick"] themes.
    UPGRADERS: Please check your COPY themes.

  * Add conditional sidebar class selectors for responsive child themes
    to the default theme index template files #mainpane node.

  * Disable "default" themes ".serendipity_entry p" styles, which should
    better natively use the default browsers behaviour, separating paragraphs
    with a single blank line.

  * Add specific selectors to "default" themes entries_summary template

  * Change default theme content/sidebar toggler to use the standard media
    screen size 1024px with. This is a need for engine and fallback themes.

  * Fix plugin_authors and plugin_categories to behave consistently for feed
    icon fallbacks.

  * Fix comments.tpl "$entry.allow_comments" true condition for reply link.
    Applies to ["2k11", "bootstrap4", "bulletproof", "clean-blog", "default",
    "default-php", "kubrick", "next", "skeleton", "timeline"] themes.
    UPGRADERS: Please check your COPY themes.

  * Fix commentpopup init checks and add frontend_footer hook for form assets
    (see emoticonchooser). Applies to [default, default-php, bulletproof] themes.

  * Change the "default"-themes entries footer selector to better fit semantically,
    since it is different to the real "serendipity_entryFooter" meta data selector.
    If already using a theme without an entries.tpl template file, falling back
    to "default", please style the new ".serendipity_entries_footer" pagination
    selector to your needs. Example:
        .serendipity_entries_footer {
            text-align: center;
            font-size: medium;
            margin-bottom: 1em;
        }

  * Improve trackback template "header" title to only linebreak on trackback
    types. Applies to [default, default-php] and falling back themes.

  * Improve pcomments template to not emit (styled) comment_content block,
    when body var is empty. Applies to [2k11, default, default-php, next]
    themes. UPGRADERS: Please check your COPY themes.

  * Fix (all) themes comment/contact form selector for consistency with the
    written book declaration, in "commentform.tpl". "plugin_contactform.tpl"
    and "plugin_dynamicform.tpl" template files, or themes falling back to.
    This applies to the ["2k11", "default", "default-php", "bootstrap4",
    "bulletproof", "clean-blog", "next", "skeleton", "timeline"] themes and
    the "default backend". Only the 2k11 "style.css" file had to be changed
    for the print rules.
    UPGRADERS: Please check your COPY themes.

  * Fix backend maintenance container issue when inside containers where too
    wide (Spamblock Maintain).

  * Fix bug of depth (&nbsp;) entities in template config select options being
    double encoded.

  * Upgrade for the [default] theme, removing XHTML and prepare ready for Styx 2.7+.
    UPGRADERS: Please check your copy themes.

  * Basic HTML5 Upgrade for the [kubrick] theme.
    UPGRADERS: Please check your copy themes.

  * Fix case insensitive ".serendipity_Entry_Date" and ".serendipity_entryFooter"
    selectors as responsive full blocks in [blue, competition, contest, default,
    default-rtl] and (lowered) for some fallback using themes.

  * Fix a missing image selector margin edge case in [blue, carl_contest,
    contest, competition, default, idea, kubrick, default-rtl] themes.

  * Smaller backend preview fixes to [contest, competition, default, default-rtl,
    kubrick] themes.

  * Smaller fixes to [blue, bootstrap4, bulletproof, contest, competition,
    carl_contest, default, default-php, default-rtl, idea, kubrick, next]
    themes.

  * Fix [default theme, preview_iframe.tpl] mode order

  * Fix [2k11, preview_iframe.tpl] template_option.webfonts condition for
    theme fallback cases when not being set.

  * Move copyright footer into non-embedded part in [contest, default] themes

  * Fix [kubrick] theme raw mode data condition

  * Fix some false variable handlers and bugs in default-php theme
    UPGRADERS: Please check your copy themes.

  * Fix some theme styles in [kubrick, default, default-rtl]
    UPGRADERS: Please check your copy themes.

  * Remove some remaining inline styles in [carl_contest, competition, contest,
    default-rtl] themes.
    UPGRADERS: Please check your copy themes.

  * Fix themes conditional $head_subtitle for the freetag related tags cloud, via
    the external_plugin hook in entries.tpl, for [blue, bulletproof, carl_contest,
    clean_blog, competition, contest, default, default-php, default-rtl, idea,
    kubrick, timeline] "index.tpl" template file.
    UPGRADERS: Please check your copy themes.

  * Add back button if a theme config was available without configuration

  * Some Serendipity Styx updates to [bulletproof, kubrick] themes
    UPGRADERS: Please check your copy themes.

  * Add default styles for HTML table ".archives_listing" and sidebars
    "ul#serendipity_categories_list" selectors to the style_fallback.css file,
    which removes entries_archives table attributes in [default, default-php
    and all themes without this template file using the fallback cascade].
    Same for the ".serendipity_calendar" selector.

    Also some old inline styles in plugin_calendar.tpl where removed in
    [carl_contest, contest, default-php, default-rtl, default]
    and another old inline styles in entries.tpl, which touched the
    [bulletproof, carl_contest, competition, contest, default] themes.
    UPGRADERS: Please check your copy themes.

  * Remove some redundant language constants in the bulletproof theme

  * Fix some unconverted variable handlers in default-php theme

  * Fix .serendipity_entry p{aragraphs} flexing floats in default theme

  * Change the GO submit button to RESET FILTERS in sidebar plugin categories,
    when inside a category URL routing situation.
    Also applied to [2k11, bootstrap4, default, default-php, next, skeleton]
    themes templates.

  * Fix serendipity_smarty_getImageSize() Smarty "fallback" path issue

  * Better handle wide table CSS styling issue in [2k11, skeleton].
    UPGRADERS: Please check your copy themes.

  * Bypass possible uninitialized $item['var']s in templates config API

  * Moved MAINTENANCE backend link into sidebar section ACTIVITY/appearance
    and the SPAMBLOCK backend link into section SETTING(s).

  * Prepare categories sidebar plugin to not emit markup when empty, so
    we are able to not show the categories section via sidebar.tpl(s).
    Added if "NOT empty($item.content)" condition to all core delivered themes.
    UPGRADERS: Please check your copy themes.


Version 2.7.0 (2018-12-31)
 ------------------------------------------------------------------------

  * Set default values of BACKENDPOPUP_GRANULAR as stated on Styx help center
    - configuration page.

  * Fix a (2.6.4-dev) regressional manifestation of wrong used rtrim() usage,
    which silently failed uploading media items to fresh installation.
    (This as well fixes cutOff MediaLibrary pagination parameters under
    certain conditions.)

  * Improve MediaLibrary directories page for fresh installations, to not show
    the base path media counter when having no folders and no items set yet.

  * Changed the dashboard shortcut ticker box to not expand, when not empty

  * Extend the frontend serendipity.css {TEMPLATE_PATH} replacement for
    subdirectory calls; tailored for categorytemplates.

  * Add calendar sidebar template to bootstrap4 theme

  * Enhance plugin sidebar archives links for category templates

  * Fix more strict PHP 7.3 preg_match routing regex due to PCRE2

  * Allow plugin_config $postKey 'categorytemplate' where BACK to form button

  * Do not include keys with empty value to $extraParems GET query string

  * Add (submit) pagination page fallback to MediaLibrary properties action
    link and its form, analogue to media scale.

  * Fix MediaLibrary properties action page header name truncation

  * Refactor MediaLibrary image scale page action, Smarty assignment and
    template(s):
    - to move the back button and change the image resize hint color to hint,
    - not truncate the titles on the image resize page,
    - simplify the action button link get parameters,
    - enclose the image resize hint box into an informational field box
    - and remove the scaling pages (useless) auto extra parameters, except for
      the possible pagination page number, to jump back to after submit.
      This might have some "hidden" regressions with deep ML filters & sortings.
      Check it out.

  * Fix old bug since 2012 not correctly failing the plugin(s) requirement(s)
    bag, which allowed installs/updates where it should have failed.

  * Enable all preparations for the now separated template files for entry
    comments and comment archive pages in serendipity_printComments() and
    serendipity_printCommentsByAuthor().

  * Fix some old themes for viewport and/or some global styles for gallery
    media images. Applied to [ blue, bulletproof, carl_contest, competition,
    contest, idea, kubrick ] themes. UPGRADERS: Please check your copies.

  * Fix commit (4ce2e5f) for carl_contest theme entries.tpl file

  * Add styles for the preparation of ".pc-owner" selector and the separated
    template files for entry comments and comment archive pages. Applied to
    [ 2k11, blue, bootstrap4, bulletproof, carl_contest, clean-blog, competition,
    contest, default-rtl, default, idea, kubrick, next, skeleton, timeline ]
    themes. UPGRADERS: Please check your copy themes.

  * Fix missing Smarty scope 'root' "assignment" in the "default-php" theme

  * Add new comment archive page "pcomments.tpl" template file to
    [ 2k11, bootstrap4, default-php, default, next, skeleton ] themes.
    The default ("default"-theme) fallback works with all themes which do
    not have their own file, or use their engines parent.
    UPGRADERS: Please check your copy themes.

  * Preparation to simplify entry comments and comment pages and comment
    author/owner selectors by changing the [ 2k11, bootstrap4, clean-blog,
    default-php, default, next, skeleton, timeline ] themes
    "comments_by_author.tpl" template file (and additionally the "index.tpl"
    for the "timeline" theme). UPGRADERS: Please check your copy themes.

  * Fix wrong 'footer_pageLink' assignment to stay compatible with themes
    based on (old) bulletproof-theme syntax for the entrypaging.

  * Preparation to simplify, add and/or fix comment author/owner selectors
    ".serendipity_comment_author_self" and (post comment) ".pc-owner"
    conditional checks in the "comments.tpl" file in [ 2k11, bootstrap4,
    bulletproof, clean-blog, default-php, default, kubrick, next, skeleton,
    timeline ] themes. UPGRADERS: Please check your copy themes.

  * Minor update to bootstrap4 styles

  * 2k11: Fix bottom-margin for serendipity_entry comments-by-author summary
    pages.

  * Add new 'frontend_fetchcomments' event hook to the comments API
    which allows SQL conditions by plugins; tailored for categorytemplates.

  * Initialize 'store_order' Smarty var to make empty checkable(s) run

  * lang: Rephrase outdated CATEGORIES_HIDE_PARALLEL_DESC constant text,
    since the "Hide categories that are not part of the category tree"
    option no longer relies on the categorytemplates plugin.
    UPGRADERS: Please check your categories plugin settings!

  * Add new 'frontend_fetchcategories' event hook to the entries API,
    which allows SQL conditions by plugins; tailored for categorytemplates.

  * Add archives entry count 0-sum excluder to [2k11, bootstrap4,
    next, skeleton] themes "entries_archives.tpl" per default.

  * Add new 'frontend_fetcharchives' event hook to the entries API,
    which allows SQL conditions by plugins; tailored for categorytemplates.

  * Extend categories / entries list link references

  * Fix plugin config generation for case ctype: hidden to not use the zebra

  * Add a Zombie Plugin Manager Clearance maintenance Spot, to get rid of
    old and locally outdated unsynchronized plugins.

  * Fix unknown regression for comment actions group styles

  * Separate spamblock main configuration_group for plugin_config generation

  * Fix mode_rewrite PAT_ARCHIVES permalinks pattern for wrong set
    $_GET['url'] eg. "/archives//C2.html" cases. This does not matter
    other archives rewrite cases. The (mode_rewrite) .htaccess file
    needs to get rewritten by changing the archives path to something else
    - save the configuration - reset to the old value and save again.

  * Add new lang constant ADDITIONAL_PROPERTIES_BY_PLUGIN for plugins
    that add extended properties to entry forms, eg. for
    <h3 class="additional_properties">
        <?php echo sprintf(ADDITIONAL_PROPERTIES_BY_PLUGIN, PLUGIN_EXAMPLEPLUGIN_NAME); ?>
    </h3>
    header usage.

  * Sort serendipity_getAllGroups() return natural by name, since this
    matters when having added additional groups.

  * Fix missing constants in various languages; remove doublets and fix
    spaces and missing linebreaks.

  * Changed threaded categories list to be block-consistent to MediaLibrary
    directory list styles.

  * Fix category ACL template that did not properly evaluate read/write selections

  * Reduce CHIEFEDITOR permissions for update and error logging configurations

  * Change [de] "Mediendatenbank" to "Mediathek" where appropriate

  * Change misread MEDIA and ADD_MEDIA constants in several languages

  * Add missing constant defines in slovak [sk] lang

  * Fix embedding install throws 404 message

  * Sync Smarty 3.1.34-dev-7 bugfix commits

  * Fix embedding install redeclaration issues

  * Add srcset to RSS URI pattern

  * Improve and refactor production type error messages

  * Improve media directory list adding the number of local media entries

  * Improve categories list adding the number of associated entries

  * Improve Gallery Widget to use use column ordered "lists", by 2, 3, or 4
    columns. The 3-Column design is the default and will smoothly downsize
    to 2 columns on MID-Screens and a single column on SMALL-screens. Vice
    versa for the 2-Column design. The 4-Column smaller item pattern will just
    behave the same, except it ends up with 2 columns on small screens.

    This is the recommended default order usage for modern browsers. The (old)
    "per row" flexed option is still supported. Please replace your galleries,
    since some image block class selectors and default styles have been changed
    accordingly and may not match any more.
    This new column order also supports the WYSIWYG-Editors drag & drop mode
    very well, if you do and check it carefully.

  * Improve Maintenance message handler

  * Fix MediaLibrary toolbar undefined filter keys

  * Styx now automatically converts media upload file extension to lower case

  * Fix an image selection error in the serendipity_editor.js.* template files
    regarding jQuery trim usage, not adding and closing the entry media add form.

  * Fix PHP 7 must implement Countable error in importers

  * Sync Smarty 3.1.34-dev-5 bugfix commits

  * Fix column section gap for auto floated block heights in Maintenance.
    This re-orders the Maintenance item sections.

  * Fix [2k11, default] themes default pre styles

  * Fix regression in all entries.tpl files for the entries list pagination.
    Please adapt to your copy themes.

  * Refactor parts of the MediaLibrary onTheFlySynch

  * Fix regression when debugging the MediaLibrary onTheFlySynch

  * Some operating systems/users tend to create, hold and manage image files
    without an extension. Uploading such images to the MediaLibrary does
    somehow work, but further image file management really needs a correct set
    extensions for the preview thumbs etc.
    We now try to automatically append the image extension by mime for the
    most common used image files (gif, jpeg, png, bmp, tiff, webp).

  * Fix serendipity_syncThumbs() SQL Query to support the root upload dir,
    which could have forced to unnecessarily run a database update.

Version 2.6.1 (2018-09-16)
 ------------------------------------------------------------------------

  * Fix NL2BR / NL2P regression added by Styx 2.6-alpha1, that
    prevented correct parsing of plain text markup_elements.

  * Improve maintenance theme manager for empty return messaging

  * [Security] Add some routing security checks against XSS

  * Consolidate version to Smarty 3.1.33 release

  * Fix non-active Backend tab section name is LOGIN, not NONE

  * Fix debug missing trace path in serendipity_convertThumbs()

  * Refactor images API triplet messages

  * Refactor serendipity_syncThumbs() messaging and improve borked
    check for the serendipity_updateImageInDatabase() loop.

  * Refactor serendipity_generateThumbs() messaging

  * Refactor serendipity_generateThumbs() for a better sorted list

  * Refactor serendipity_fetchImagesFromDatabase() ORDER BY parameter
    to allow multi field sorting orders in a simple way by an eg.
    $order = array('x, y, z') array.

  * Fix maintenance MediaLibrary "Rebuild Thumbs" conditional regression

Version 2.6.0 (2018-09-07)
 ------------------------------------------------------------------------

  * Add a Theme-Manager-Clearance maintenance Spot, to get rid of
    old and presumably outdated additional or private themes.

  * themes: Update last modified date for Styx 2.6.0

  * Better check (utf8mb4) database collation checks when not using MySQL

  * Change media related informational text messages highlight color

  * Internally release Styx 2.6-rc1

  * themes: Change 'use_corenav' default value to false
    [2k11, bootstrap4, clean-blog, next, skeleton, timeline]

  * Fix NAVLINK_AMOUNT constant text for all languages and fix some [de]
    lang typos.

  * Add changelog and modemaintain plugins to MAINTENANCE group

  * Sync Smarty 3.1.33-dev-12 bugfix updates, including Styx fix

  * Fix wrong set bulk image multimove conditional check variable for
    development sessions.

  * Update Dashboard bookmarklet links

  * Update Dashboard Quicktip documentary

  * Changed media properties form submit name

  * Fix MediaDB-Filter-Buttons shall react instantly - The ALL (type) needs
    a value to overwrite previously set types.

  * Better style media no-form-editable properties into header

  * Extend media properties preview to show MIME video files embedded instead
    of the thumb. For security only allowed for 'mp4', 'webm', 'ogv' files.

  * Change and fix media properties header for mime type and proper extension

  * Fix MediaLibrary backend scale image result handler

  * Changed the (media add to entry) "done"-button semantically and state
    it coloured as a submit action. Ditto, scale image template for the latter.

  * Fix SetCookie remember Media Options to only run on valid values

  * Removed entries API long time deprecated function serendipity_purgeEntry()
    and all reference calls.

  * Extend Dashboard empty notifications "hider" to be kept for current session

  * The plugup plugin now also listens on the fetchlist hook for its cookie
    caching handler.

  * Fix backend IE fontello.eot fix missing correct path

  * Sync Smarty 3.1.33-dev-7 bugfix updates, including Styx fixes

  * Fix upgrade tasks array for some wrong key notices since 2.5.0.
    Improve readability of upgrade tasks.

  * Fix templates image fullsize_preview check if not available

  * Fix possible BETA open_basedir restriction errors with Spartacus updates
    and finally fix a possible double slash in update file targets.

  * Fix a regression for the "If (backend) js is broken..." Sync - in
    plugins toggled config groups, not starting closed.

  * Fix Backend dashboard links container popup behaviour for set
    force_backendpopups and the default, when this has not been set yet.

  * Internally release Styx 2.6-beta2 for backend changes upgrade tasks

  * Move standard backend from 2k11 to default

  * Fix and extend Zarathustra (pluginlist) upgrade task

  * Sync [s9y] - Fix missing spamblock Captcha output by regression for non-GD
    users since 7/2013.

  * Fix regression with $template_config_groups in ['bulletproof, clean-blog,
    timeline] themes. Please adapt to your copy themes.

  * Fix return $textarray for array slice in nl2br::nl2p

  * Fix regression in "comments open to public" timeframe feature

  * Fix contactform <textarea> ID name in plugin_dynamicform.tpl to be
    statically set to 'serendipity_commentform_comment', since used by
    other plugins. Changed in [bulletproof, default-php, timeline] themes.
    Please adapt to your copy theme. Will be supported by upcoming
    serendipity_event_contactform v1.28 plugin.

  * Add missing init checks for nearly all contact-/dynamicform template
    files. Please adapt to your copy themes.

  * Re-add strict mirror check to Spartacus


Version 2.6-beta1 (2018-08-06)
 ------------------------------------------------------------------------

  * Fix regression in Spartacus putting together the URL for plugin update
    files

  * Sync [s9y]: If (backend) js is broken, fallback to open configuration options

  * Add "show_all" option to Smarty templates for the categories plugin.

  * Fix regression in ade7515 which caused SQL install to fail

  * Changed all themes entries.tpl file $entries array foreach logic check
    to be valid for muteExpectedErrors. Adapt this to your copy themes.

  * Moved from custom to Styx gitHub repository in Spartacus configuration.
    Themes are still fetched by the s9y origin repository.

  * Fix empty id parameter in serendipity_smarty_showPlugin to not break

  * Add new spamblock config option to only allow entry comments within a
    global timeframe, hiding the commentform globally after X days.

  * Do not allow to add groups with existing group-names

  * Do not allow to add users with existing user-names

  * Fix issue for entryproperties set entries to not show up on Frontpage
    entries list, were also hidden in archives views.

  * Update wysiwyg-style.css file for serendipity images styles in p tags

  * Upgrade templates based jQuery Lib from Series 1 to v3.3.1

  * Fix serendipity_syncThumbs for database thumb name update if not exists

  * Fix MediaLibrary filter sorting reset for DESC/ASC sorting

  * Add some version like "commit-days-since-first" info to the [2k11,
    next] themes info.txt description, since they have been touched a lot.

  * [Security]: Sync [s9y] - Make sure that the admins configuration for RSS
    and blog entry limit is parsed as integer for SQL queries.
    Thanks to @oreamnos and Hanno Boeck for reporting!

  * [Security]: Sync [s9y] - Prevent XSS possibility in "edit entries" panel.
    Thanks to @oreamnos and Hanno Boeck for reporting!

  * [Security]: Sync [s9y] - Disallow sending comment notifications and mails to more
    than one mail address. This could be used to approving opt-ins of requests
    that did not belong to the same email that was approved.
    Thanks to Hanno Boeck for reporting!

  * [Security]: Sync [s9y] - Remove exit.php open redirect, when not using the
    trackexits-plugin configured with Serendipity exit tracking.
    Thanks to Julio Cesar (from infosec.com.br) and Hanno Boeck for reporting!

  * For the Styx staticpage plugin both customized staticpage backendform
    template files in [clean-blog, timeline] themes were renamed and
    converted from ".../backend_templates/default_staticpage_backend.tpl"
    to the themes name:
    "templates/clean-blog/backend_templates/cleanblog_staticpage_backend.tpl"
    and alike
    "templates/timeline/backend_templates/timeline_staticpage_backend.tpl".
    Check out these staticpage backend forms, if you use one of this themes.

  * Add the categories name to nearly all themes entries_archives templates,
    to make sure a visitor understands, that archive entries have a dependency
    to the chosen category. Adapt this to your copy themes.

  * Fix default/style_fallback.css file, pre-bound into the serendipity.css
    file, to set a max-width of 100% to the serendipity image selectors and
    fixed the gallery item styles to better match the galleries forced width.

  * Prepare Backend and [2k11] Frontend javascript files to support more
    modern jQuery Lib versions.
    Be sure to not have "sticky" browser cached versions loaded after the
    upgrade. Also adapt this to your copy themes based on 2k11.

  * Fix gallery Backend form flexible flow for mobile screens

  * Check all themes "content.tpl" files, if $content_message is a plain
    message string or HTML markup.
    Adapt this to your copy themes which have this file.

  * Mark and highlight CKEditor plus Plugin-Updates as a SINGLE item update,
    to not use the UPDATE All button.

  * Do not allow to delete the user SELF

  * Extend the Smarty $compile_id (directory) to switch between current
    Backend/Frontend themes, to make compilation build checks easier and
    explicit.

  * Remove workaround for the "iframe_preview.tpl" template preview
    offsetHeight, since that problem does not exist any more!
    Fixed in [2k11, next, bootstrap 4] themes.
    Adapt this to your copy themes based on 2k11/next/bootstrap4.

  * Fix gallery header width styles floating screens

  * Fix wrong used POST password field passed to addAuthor

  * EXPERIMENTAL: Do not allow the Administrator to delete the highest
    group level he is in.

  * Fix regression for HTML comments. This has to be a global configuration
    option and now has moved in the global configuration section: "General
    Settings". You have to allow this option again, if already using!

  * Partially Sync [s9y] "Improved NL2P (nl2br)" commit, added to Serendipity
    by Stephan Brunker, part II.

  * Fix proper Backend message when developer build runs integrity check

  * PHP/TPL Groundwork for Debugging Session of uninitialized variables,
    when the Smarty_class::muteExpectedErrors method was enabled, which
    passes certain Errors and Warnings/Notices to the Serendipity Error
    Handler. This also checked into all core themes Frontend template
    files, which mainly are ["index.tpl", "entries.tpl", "comments.tpl",
    "comments_by_author.tpl", "preview_iframe.tpl", "plugin_staticpage.tpl"
    and possible "config.inc.php"] and some "plugin" extra files.
    Adapt this to your copy themes which have these file.

  * 2k11: Run new unsaved comment previews as Smarty default id 0 and
    add an independent style #c0 to the style.css file.
    Adapt this to your copy themes based on 2k11.

  * Remove 2k11 configs "is_templatechooser" SMARTY var assignment
    Adapt this to your copy themes based on 2k11.

  * Improve/extend HTML comments constant description and the backends
    empty stripped comment alert.

  * Regression fix comments_by_author pages comment(s) body, when html
    comments where allowed.

  * Added new Smarty $comment.meta variable for comments_by_author archive
    pages, already used in [2k11, next] themes comments.tpl template file.
    Adapt this to your copy themes based on 2k11/next.

  * Improve comments footer meta show-up logic by preview OR comment
    in [2k11, next] themes comments.tpl template file.
    Adapt this to your copy themes based on 2k11/next.

  * Fix security POST check typo for plugins posted config items

  * Improve inline style for the multicat checkbox of plugin categories

  * Allow option 'custom mirror' new case: 'none' to be able to disable
    the preset Styx mirror in the Spartacus plugin.

  * Improved comment previews, adding a preview message hint to the comment
    footer (meta) in [2k11, next] themes comments.tpl template file.
    Adapt this to your copy themes based on 2k11/next.

  * Fix missing $serendipity global for entries cache options generation

  * 2k11: Fix wrong if/then/else logic for the commentform display in
    the entries.tpl template file.
    Adapt this to your copy themes based on 2k11.

  * Fix plugin ownership issue not changing to selected author

  * Allow SPAMBLOCK_KILLSWITCH to disable Frontend templates commentforms
    for non-permissive users.

  * Bugfix missing key used for $media['base_property'][$propkey] indexes
    in serendipity_parseMediaProperties().

  * Fix PHP 7.2 assume uninitialized 'S9Y_DB_INCLUDED' constant warning

  * Re-add last remaining backward compatible mode wrapper for some
    (s9y-origin) additional_themes still using this old Smarty2 method.

  * Fix misplaced .htaccess file for debug logs, which prevented the additional
    themes preview cache files to correctly load into the backend theme list.
    DO NOT use this DEBUG OPTION on non-NCSA compatible web servers, like NGINX,
    which are NOT able to run .htaccess file(s) rules/restrictions!
    Don't forget: This WARNING effects also Serendipity in total.

  * Add a third parameter to serendipity_printEntryFooter() entries API
    for new comments_by_author limits.

  * No-s9y-Sync for "allow SVG files in Media Library", since that opens XSS
    vulnerabilities.

  * Introduce new $serendipity['CBAfetchLimit'] variable (default: 10),
    to have an independent limit rule for comments_by_author archive pages.
    The entries $serendipity['fetchLimit'] is historically a kind of "subset"
    of the $serendipity['RSSfetchLimit'] limit (default: 15), which is the
    "default" value in the RSS world. In Blog entries, page limits by 15 can
    get quite long, so users might set this value down in their configuration
    settings. You are now able to set your own CBA limit in your local.inc file.

  * Add contactform hooked plugin message hiding selectors to the default/
    style_fallback.css file. These (new) selectors were introduced in
    Styx 2.1 ~ February 2017- see 3f5bdba.
    You might need to change YOUR themes "plugin_contactform.tpl" and
    "plugin_dynamicform.tpl" templates files to support this.
    Mentioned ["timeline", "default-php", "bulletproof"] templates were fixed.

  * Trust logged-in CHIEF and ADMIN USERLEVELs to set already approved
    comments.

  * No-s9y-Sync for "INSTALL_SUBSCRIBE default false value change"

  * Optimize MediaLibrary filter extension SQL-query performance for
    serendipity_fetchImagesFromDatabase() requests.

  * Fix gallery filter mime image selection to only allow images

  * Do not allow backend template comment reply to non-approved comments

  * Fix (IM) command order compatibility with ImageMagick-7 versions.
    This also changed the $serendipity['imagemagick_thumb_parameters']
    example found in the serendipity_config.inc.php file.
    IF YOU already use it, check your settings!
    Additionally the bang (!) usage - for forced exact image sizes as
    defined, without minding calculating and rounding differences after
    comma, in escapeshellarg() - for WIN OS servers was fixed.

  * Media Library list item title names were changed from realname
    to diskname, which actually is the real existing stored file name.
    The (origin) realname, if independently exists, is shown in
    the info layer as: "Origin: name".
    This was necessary to not have somehow confusing same titled
    item names in case of doublets.

  * Fix GET routing for /comments/pingbacks/ archive pages

  * Sync Smarty 3.1.33-dev-5 bugfix updates

  * Fix importer issues with import result and user array checks


Version 2.5.0 (2018-05-15)
 ------------------------------------------------------------------------

  * Silence malformed comment mail() throwing a stopping Exception

  * Bugfix non-working s9ymarkup (plugin) asterisk-bold-tag conversion.
    If you now encounter any issues in your blog text or feeds, this most
    probably are words starting with an asterisk not meant to be a bold-marked
    word. These occurrences need to start with a slash, eg. \*.

  * Bugfix feed array keys to not include dots for Smarty template loops

  * Bugfix atom feed XHTML compliance for common unclosed HTML tags

  * Improve various themes: Distinguish trackbacks output in comment
    archive pages like "blog/comments/trackbacks/" in comments.tpl
    for the [default, default-php, bulletproof, 2k11, next] themes.
    - Adding trackback truncation-cut dots all over.
    - Add a new comments_by_author.tpl file for [skeleton, bootstrap4,
      clean-blog, timeline] themes.
    - Changed the next-theme default content/sidebar ratio width from
      62/38 percent to the #primary of 68% and the #secondary of 32% width,
      since a blog lives off its content.
      Also fixed in there the optional used Smarty plugin_category.tpl
      template files missed feed icon.

  * Fix 2.5-beta1 BCRYPT SYNC login password change for new users
    and new installation user.

  * Fix health check for Spartacus mirror https secured URLs

  * Fix a PHP update 7.0.x to 7.1.3+ and login COOKIE decryption failure
    to completely log-off behind the scenes to give access again.

  * Sync Smarty Security Update to 3.1.32-dev-46 and
    sync Smarty 3.1.32 Release ===== (24.04.2018).
    Sync Smarty - bugfix last Security Vulnerability bugfix
    (sets version to 3.1.33-dev-1)

  * Fixed bug in merged pull request #392 which overwrote user specified
    input for logged in authors with an empty realname (wrong array
    key name) and deleted all existing text input

  * Sync [s9y] bootstrap4 theme to Bootstrap 4.1.0 update


Version 2.5-beta1 (2018-04-19)
 ------------------------------------------------------------------------

  * Minor fixes for the upgrade task list (and bump version to 2.5-alpha3)

  * Added a new personal configuration option to allow HTML comments.
    This supports:
      - the Backend comments list, edit forms and previews,
      - Frontend related entry comment views,
      - Frontend archive /comments/ like lists,
      - but does not touch comment feeds.
    Since not as strict as permanently converting all comment data to display
    plain text only, this needs CHECKED comments!
    THIS IS IN YOUR PERSONAL AND BLOGGERS INTEREST ANYWAY!
    The main logic behind this HTML option does restrict markup admission
    and tries to sanitize any injection as much as possible. But since you
    never know about hackers cleverness, this needs yourself KEEPING AN EYE
    on it.
    BESIDE THAT, this option now allows coding example parts in comments, and
    comments generally displayed more nicely. This is why it has a dependency
    to the WYSIYWG Editor option enabled, so that you can use the CKEplus
    plugin with (highlighted) code snippets.

  * Be a little more friendly to middle screen sizings in the Backend

  * Changed styling for the standard theme "2k11" post comment owner
    without the "self" box being border-boxed and colored.
    Added a slightly different approach in "next" theme too (#58422a8).
    Check your copy themes for changes in style.css and comments.tpl files.

  * Use better toggle closing icon for listed open/close fulltext buttons.
    And enhances the hovered tooltip (see Backend comment list).

  * Fix bad interpretation of the isolation tag option of the nl2br plugin.
    Please review your settings on upgrade!

  * Fixed preview of Backend comment replies for multi depth comments

  * Make themes webfont use optional (clean-blog, skeleton, timeline)

  * Added new "legal" plugin property bag attribute to indicate
    impact for the General Data Protection Regulation (GDPR / DSGVO),
    associated with the serendipity_event_dsgvo_gdpr plugin.

  * Syndication: Set subToMe service default option OFF to prevent
    issues with GDPR / DSGVO.

  * Add Spartacus fallback mirror if no matches (not Styx related)

  * Extend PHP 7.1.3+ login crypt using STRONG Galois/Counter Mode.
    Added important upgrade note and set version up to 2.5-alpha2.

  * Fix SQL compatibility for creating of table "serendipity_groupconfig"
    MySQL 5.7 - Strict mode - All parts of a PRIMARY KEY must be NOT NULL; ...

  * Upgrade bundled SimplePie Library to 1.5.1 (dev-1.5.2)

  * Remove old Smarty2 BC mode wrapper methods

  * Sync [s9y] and fix new bootstrap 4 theme

  * Replace PHP 7.2 set deprecated each() usage where possible

  * Cherry-pick Update PEAR.php

  * Fix path variable name in hook backend_sendcomment

  * Sync [s9y] and fix new NL2P OPERATION mode with the nl2br plugin

  * Themes: Convert old serendipity message styles - notice green to blue
            At now all success Frontend message selectors where changed
            from .serendipity_msg_notice to .serendipity_msg_success for
            consistency.
    PLEASE NOTE:
            Adapt this to your copy or Spartacus themes !

  * Fixed message error CSS class in next theme

  * Bugfix (local) plugins without propbag groups not showing up

  * Allow to ~hide~ (in-/active) pending comments, if you do not want
    to approve nor delete a comment, but do not want to get a pending notice
    about it every time you enter your Backend.

  * For quick MD5 unique hashes we seed the Mersenne Twister Random
    Number Generator overall.

  * 2k11: New Backend icon font build

  * Change commentlist moderate on/off buttons

  * Fix next theme calendar group & styles

  * Fix Persian mktime issues with PHP 7.0.0, since the "is_dst" parameter
    was removed, which was already set deprecated since PHP 5.3.0.

  * Sync Smarty Update to 3.1.32-dev-45 (including the Styx patch)

  * Raise minimum requirement of PHP version to 5.5.0 plus.

  * Move from SHA1 to BCRYPT for login password salted hash storage.

  * Remove old PHP4 and API Smarty2 methods in template_api.inc

  * Fix PHP 7.2 assume uninitialized charset constant warning

  * Add missing set $serendipity['GET']['commentMode'] via GET routing

  * Update external lib: random_compat to 2.0.11

  * Set default Standard Backend 'template_backend' to Styx (2styx)

  * Re-integrate category ID-Number to Backend category edit button tooltip

  * Fix to autosize PLAIN EDITOR toolbar buttons for Backend entries

  * Re-add underline button to PLAIN TEXT Editor toolbar for Backend entries

  * Update Backend additional links

  * Fix rdf feed Styx generator identifier

  * Sync Smarty Update to 3.1.32-dev-38 (including the Styx patch)

  * Add nav $template_option.use_corenav check to the next theme

  * Fix and extend spamblock maintenance multiselectable selection

  * bundled-libs: Remove deprecated old NET/ lib files

  * db: Remove deprecated dl() method in sqlite DB layers

  * bundled-libs: Remove deprecated old HTTP/Request library

  * Optimise MediaLibrary filter date ranges label for length

  * Bugfix MediaLibrary error "Image (link) could not be loaded" for
    non-type-images.

  * Fix maintenance task clearCompiledTemplate() first parameter not
    being used (as of cache) and return 0 or Smarty regression bugfix.


Version 2.4.0 (2017-11-17)
 ------------------------------------------------------------------------

  * Fix mediafilter input width for HTML5 browser date picker interface

  * Regression fix for the plugin-multi-updater activity spinner

  * Optimise entryproperties custom field option textarea row size

  * Make nl2br implication note translatable per plugin constant

  * Spartacus optimizations, like removing netmirror and some review
    and clarification to option descriptions.

  * Exceed the time limit when performing plugin upgrade tasks with sqlite

  * Check for remote ChangeLog file in plugin upgrade cases, where
    temporary session stored data has timed out.

  * Add missing pdo-sqlite query check to serendipity_plugin_archives

  * Removed core plugins to (additional_plugins) Spartacus repository:
    - serendipity_plugin_creativecommons
    - serendipity_plugin_templatedropdown
    - serendipity_event_creativecommons
    - serendipity_event_gravatar
    - serendipity_event_responsiveimages
    - serendipity_event_templatechooser
    - serendipity_event_textile

  * Added cleanup and log maintenance task for database added logs to
    the spamblock event plugin. The action is still taken in the
    maintenance section. (Please note, a continuously visitors table
    cleanup will take effect with the next statistics plugin update.)

  * Removed maintenance widget plugin, serendipity_event_cleanspam.
    (see follow-up)

  * Sync Smarty Update to 3.1.32-dev-35 (including the Styx patch)

  * Regression fix for the maintenance task call to clear Smarty compiles

  * Changed the option named like "Check entrytitle" in the spamblock event
    plugin to be SET default true for new installs, and to check the Blog
    title in combinations with entry title, often used by BOTs.

  * Bugfix and enhancements for the cleanspam event plugin

  * Fix UTF8MB4 migration logic dbCharset issue
    (already backported to beta1 zip)


Version 2.4-beta1 (2017-10-09)
 ------------------------------------------------------------------------

  * [-strike- Add new maintenance widget plugin, serendipity_event_cleanspam.
    This cleans up up-blown database spamblocklog or visitor tables by items.
    Activate in your plugin-list and force cleanup on demand.] (see follow-ups)

  * Prepare for translatable ['summary', 'description', 'backenddesc']
    strings for the themes info.txt file info layer.
    Translated language strings are stored as arrays in lang_info_xx.inc.php
    pattern files, depending the used language in $serendipity['lang'].
    They either live in the themes root or the themes /UTF-8 directory.
    Convert or save as ANSI (ISO-8859-1), your native charset, or for the
    latter as UTF-8 w/o BOM.
    All core delivered themes with these additional info strings were
    changed for [en], [de] languages.

  * Fix skeleton theme author value, since a colon is a reserved
    delimiter in the info.txt file. Always use the entity "&colon;"
    for it!

  * Revert utf8mb4 sql-indexes for non-mysqli installs due to errors.
    SQLITE3 is able to use this extended Multibyte support already
    without any changes, if compiled with Unicode and intl support.

  * Fix plugin_api non-production install empty value check error
    for plugin sort order incrementations.

  * Added simplified standard comment templates to Backend, for future
    independent Backend purposes.

  * Lots of smaller optimizations for the lang constants

  * Disable maintenance 4th rebuildThumb radio option if not required

  * Set minimum required PHP version to 5.4+

  * Add addData $target link to the 'images backend_media_makethumb'
    hook, to support the responsiveimage event plugin.

  * Add (non-activated) responsiveimages event plugin, which creates
    an easy way for authors to upload images and make Serendipity
    automagically create specific thumbnail sizes for the browser to
    choose.
    A templates config could then preset valid thumbnail sizes, like:
        $serendipity['responsiveImageThumbnails'] = [1440, 960, 480];
    and
        $serendipity['responsiveImageBreakpoints'] = [1920, 1360, 720];
    or just use the default sizes, which are [1200, 800, 400] for the
    first, and [1600, 1200, 600] for the second, by now.

    This plugin then parses every entry to display via the
    'frontend_display' hook, to convert an img src path to the preset
    srcset-path sets.

  * Secure image hotlink check by pattern

  * Fix Smarty 'from' assignment in serendipity_admin_image_selector file

  * Added new maintenance "Rebuild Thumbs" option task, to convert old
    named thumbSuffix images in the database for the images, entries,
    entryproperties cache and staticpages tables and the real files in
    the /uploads file system.
    This actually is only a particular need, if you are forced to
    rebuild every existing thumb.

  * Disabled header and footer plugin hooks in media_showitem.tpl
    [default, 2k11, default-php] templates, since they often use jQuery,
    which isn't set here. This template is used for image output cases
    of the serendipity_admin_image_selector.php file only.

  * Changed serendipity_fetchImages() API method for selecting the
    current image list. This removes some deprecated properties and
    adds a reverse property to get all old thumbSuffix named URLs only.

  * Fixed serendipity_fetchImages() list for changed/multi thumbSuffixes
    removals.

  * Add new API function serendipity_contains() for strpos iterations

  * Fix file and filedir renaming actions for the thumbnail SUFFIX name,
    to keep a previous set SUFFIX in case the global configs thumbSuffix
    name has changed.

  * Removed temporary added symbol_sanitize(), since the UTF8MB4
    migration is a success.

  * Change sequence order of the (no-default) dashboard_ticker widget

  * Treat imageselectorplus event plugin "quickblog" sized images
    out of the MediaLibrary Sync and the auto-thumbnail generation.
    Those files live a hidden life and survive parent removal actions
    in the MediaLibrary, which adds a new property action "Image Of"
    viewing button, if such file exists.

  * Remove empty logger *log files automatically within maintenance
    changelog task.

  * Fix missing media_showitems.tpl markup in [2k11]

  * Add logger debug logging to serendipity_makeThumbnail()

  * Optimise some default configuration values for new installations.
    One of it is the slightly shorter "styxThumb" image notation,
    another, the new database table default prefix is now "styx_".

  * [..marked for the upcoming beta: EXPERIMENTAL]
    Prepared utf8mb4 migration for MySQL database servers to allow
    an extended unicode usage, like for Emojis.
    (See http://getemoji.com/)

    The basic issue is that in UTF-8 we have about 1000 bytes in length
    for indexes. Due to UTF-8 this means we can use a character length
    of 333 characters (1000 / 3). With UTF-8 MB4 this is reduced to 250
    characters (1000 / 4). A single index is allowed to reach 767 bytes
    (191 characters). This means, wherever we recently used an index
    length of 200 or 250 or 255 we can now only use 191 bytes. This
    means, all indexes need adjustment before the charset of a table
    can be successfully changed. While this can be automated, the
    problem is that it is not easy to deduce the new proper key length,
    because in some tables, reducing an index could lead to failing
    unique key constraints.

    The migration has therefore been developed in two ways:

    1.) New Installations shall use utf8mb4 as charset on installation,
        if their mysql version matches. If not, UTF-8 will be used.
        The internal SQL key statements have been adapted to work with
        utf8mb4, also in the additional_plugins repository all created
        indexes were already adjusted.

    2.) Existing installations now get a maintenance task, with which
        they can convert to UTF-8 MB4. There are two steps; First the
        "simulation" which yields all SQL statements that would get
        executed, and second the "execution" of those statements.

    They both has been checked on some installations. Please read the
    info button instructions for the second, the maintenance migration!
    A full SQL backup is recommended.

  * Optimized placement of dashboards links and quicktip widgets

  * Changed lang constant files to better match Serendipity Styx on
    installations. This also fixed some other (~asian) lang issues.

  * Optimise PHP7 installer token

  * Fixed regression bug with Smarty variable parsing, which could
    lead to completely unset permissions when changing Serendipity
    groups configuration.

  * Optimized preview_iframe template files (default, 2k11, Next,
    Skeleton, clean-blog, timeline Bulletproof, and default-php).
    Please keep your copy-templates synced.


Version 2.3.0 (2017-09-07)
 ------------------------------------------------------------------------

  * Fix template and plugin requirement issues

  * Media: Enhance js finished done, when resized images before upload

  * Fix sqlite3.inc file to load the wrong lib if class does not exist.
    Also mark the dl() method in all sqlite db files as deprecated.
    This fallback will be removed in future releases.

  * Smarty Bugfix-Update to 3.1.32-dev-22 (including temporary Styx fix)

  * Optimise PINGBACK comments list margins

  * Link plugin documentation to new tab, if in POST context.

  * Replace timestamp format by the lang defined DATE_FORMAT_SHORT
    constant in the Backend comment list, since the hardcoded approach
    was not ready for all languages, in special for the strftime() month
    abbreviation.

  * Remove <html dir=""> attribute pointing to "rtl" languages in the
    Styx (2Styx) Backend themes index.tpl file, since that happens to
    swage certain html elements very badly into another, breaking the
    design, in special with floated elements. Serendipity is not well
    formed to fully support right-to-left handed languages, since the
    2.0 Series Backend rebuild.
    The 2k11 Backend theme still has it set, with the same issues, but
    is left alive, so you may switch Backend themes around for testing.
    Any competent help regarding element and browser handling is highly
    welcome!

  * Prepare Backend styles for bidirectional direction attributes and
    the bidirectional override element.

  * Fix an "obvious" bug/issue with the set/get mb_language() method,
    not expecting this wide range of $serendipity['lang'] by parameter.
    Please keep an eye on this for strange language things to appear!

  * Prevent to Log-Off when Modemaintain is set active, ... since you
    might forget about it. :)

  * Diversify plugin update from/to block list information by colour

  * Fix serendipity_imageGallerySelector_done() src file['realfile']
    preparation for hotlinked data. Extends [e7957d5].

  * Allow gallery selection page pagination, even if not recommended
    to have.

  * upgrader: Fix directory removal iterator for some special cases


Version 2.3-beta1 (2017-08-14)
 ------------------------------------------------------------------------

  * Fix MediaLibrary file['realfile'] preparation for hotlinked data

  * Fix hotfile linking with 'backend_image_addHotlink' to not use the
    tempfile name.

  * Enhance the new image gallery functionality as popup. Enables to quick-
    ly select image galleries to your entries, by PLAIN- or WYSIWYG-Editor
    entry toolbars. This approach uses a non-remembrance and hardcoded
    hideSubDirFiles option, to only show images by directory. Also this is
    limited to 48 items per view out of memory and performance reasons.
    Take care to give your MediaLibrary directories a better structure to
    fully support this new feature.
    This also fixed a bug with the wysiwyg toolbar stylesheet tweaks.

  * Rewrite some multi clickable identifiers semantically

  * Add gallery enhancement to WYSIWYG-Editor mode styles

  * Enhanced the new gallery, since in its simple form it was a single line
    gallery only, flexing the floated items in a single row.
    NOW all child containers, like comments, links or manually added generic
    div or span elements, have a maximum size of 260px in width. Even direct
    child image items have this maximum size set. This allows to put a bunch
    of floated MediaLibrary elements into this gallery, which nicely flow
    and break inside the entries space that is available in the theme itself.
    All recommended themes - delivered by core releases - (and default) were
    checked working fine with this or had to be slightly modified. (Next/default)
    You can still change or finetune this in your themes stylesheets.

  * Introduce a PLAIN-Editor "toolbar" button to support this gallery wrap.

  * Fix CKEditor WYSIWYG-Editor mode styles regarding image comments

  * Added an easy and global available image preparing class, called
    "serendipity_image_block", added to the style_fallback.css file
    and the wysiwyg mode editor screen.
    This new class allows to simply add what is called a "poor man's
    gallery" using inner serendipity_image_left or serendipity_image_right
    floated images in a row. Just enclose them with a generic container div
    <div class="serendipity_image_block"> ... </div>.

  * Add missing escape of the "$staticpage_pagetitle" var for all related
    template files in "clean-blog" and "timeline", some in "default-php"
    and the "plugin_staticpage.tpl" file in the "next" theme.
    Please keep your copy-templates synced.

  * Added serendipity_comment_author_self class to the "next" theme

  * Allow dashboard plugup widget to fade away when empty (alike the
    dashboard_ticker in non-standard widget mode).

  * Smarty Bugfix-Update to 3.1.32-dev-19 (including temporary Styx fix)

  * Prepared Styx additional_plugins to remove old HTTP/Request(1) PEAR
    lib in next Styx version.

  * Restrict edit and reply actions to type comments only in the Backend
    comment list.

  * Fixed default theme typo bug, added by trackback escapement commit

  * Convert debugging to use the debug $serendipity['logger'] option
    for the MediaLibrary and trackbacks APIs, and in Spartacus for
    remote URL requests. They still have to get enabled via "local"
    functions adhoc debug true settings to start their logging.

  * Set and add remote ChangeLog / documentation links for
    upgradeable plugins.

  * Fix the plugin package xml for the remote raw changelog path
    and enhance the xml creation to better indent directory/files.

  * Fix an old MediaLibrary synchroniser bug with "virtual" hotlink data,
    to not auto-remove such items from the image database table, when
    accessing the imageList generator to re-/build the MediaLibrary.
    UPGRADERS PLEASE NOTE:
        If you ever used this feature in the past, and added
        MediaLibrary linked hotlink image data in your entries,
        and then lost your MediaLibrary hotlink item by this syn-
        chroniser bug, the entries added media ID,
        ie. "<!-- s9ymdb:102 -->", is now wrong or misdirecting.
        This is just bad in those cases, where some other task is
        requesting it and might get into trouble with the false ID.
        Check your entries for this issue.

  * Restrict public server access to $serendipity['logger'] log/* files
    in the compile dir. This shall be allowed only via the authorised
    access 'external_plugin' route. See maintenance changelog section.

  * GIT: Update .gitignore file to allow subdirectory based .htaccess files

  * Sync [s9y] - Adapt .htaccess default rules to exclude rewriting plugin
    documentation files (Issue #521).

  * Fixed regression bug for HOTlinked media items and the hideSubdirFiles
    true option in MediaLibrary BASE_DIRECTORY cases.

  * Refactor serendipity_moveMediaDirectory() to be a serendipity* API
    wrapper for _renameDirAccess, _renameRealFileName, _renameRealFileDir
    and _moveMediaInEntriesDB API functions, since grown too big, which
    was error prone.
    You have to use the wrapper for accessing these new split-up functions.
    This also adds some debugging via DEBUG logger option and optimises
    this and that.

  * Fix MediaLibrary file rename entry replacements

  * Fix SQL path REGEX matching media thumbs for the directory dir type
    only, which fixes the matching entries and the counter.

  * Fix path handler for the media-directory-form renaming existing
    directory names.

  * Fix PHP7 Exception call in Cookie based login failures

  * Add new Serendipity Smarty modifier "|cleanChars" for cases, where
    chars like dots, bangs, spaces, ... which are not (A-Za-z0-9_-)
    break the expected behaviour. Already used in the Backend to fix
    broken info button cases by certain plugins.

  * Remove category filter in Backend entry form for categories non-popup
    compact mode.

  * Add some styled love to comments/trackbacks/pingbacks section in the
    "Next"-theme as an example. Thanks to Grischa Brockhaus! :)

  * Fix old bug, missing the links "comment url" in the "comments.tpl"
    template file, when called by "/comments/" or "/comments/trackbacks/"
    or "/comments/comments_and_trackbacks/" etc. page archives, via the
    comments_by_author.tpl template file. All relying themes [2k11,
    bulletproof, clean-blog, default-php, default, kubrick, next, timeline]
    were changed.

  * Optimise FRONTEND COMMENTS for logged-in users. They now are able
    to "multi-comment" without page reset in the "entries.tpl" template
    file. The "2k11" and the "next" theme were changed to support this.

  * Optimise PINGBACK markup generation checkup in the "trackback.tpl"
    template file, by checking a possible non-empty body variable
    starting with an image.
    This issue probably is added by the gravatar event plugin only.
    The "2k11" and the "next" theme were changed to support this.

  * Finalise 'stable' over 'beta' preference autoupdate check

  * Fix the autoupdate final "return to backend" link


Version 2.2.0 (2017-06-23)
 ------------------------------------------------------------------------

  * Rewrite Trackback HTTP Requests and logging attempts
    Possible logging may get enabled by hand in comments.php and by the
    "Log Level": "Debug" option in the General Configuration.
    This may change in future, to only support the latter.

  * Revisited the "TRACKBACK_SPECIFIC_ON_CLICK" constant to clarify
    trackback and trackback URI link usage.
    All depending themes in core where changed and set to a new
    date: 2017-06-21. Most languages already translated in the past were
    reset. "EN" and "DE" are up to date. Translators welcome!
    Please check your themes "entries.tpl" file for the change.

  * Fixed wrong logic checking moderation and unset emailing options
    for Comments and Track/Pingbacks. NO set "Send [..] announcements"
    in Personal Preferences really means NO EMAIL.

  * Spend some love to Backend comments list for a better distinction
    of Comments/Trackbacks/Pingbacks.

  * [Security]: Extend Modemaintain Plugin for security

  * Optimise Maintain section messages

  * Add temporary Serendipity bugfix for Smarty modifier compiles

  * Update this NEWS file documentary for the MySQL full unicode
    implementation "bug" down below by a marked "JUNE 2017" part.

  * Sync [s9y] and enhance: Add "backend_view_entry" hook, that is executed for
    every entry in the Backend entry list.

  * Sync [s9y]: Emit and detect rel=trackback element to find trackback
    url, to have a reliable alternative to RDF used so far.

  * Bugfix upgrade to Smarty 3.1.32-dev-11

  * Sync [s9y]: Updated entryproperties plugin to support a custom property
    for multiple ownership of an article.

  * Improve the Dashboards "no default widget" option, to show shortcut
    links and amounts of comments approval, future or draft entries.

    EDITORS NOTE:
        DRAFT set entries should really be used some day, published
        or rewritten with a new date and NOT kept forgotten!

  * Update simplepie library to v.1.5. Requires new file name to call:
        require_once S9Y_PEAR_PATH . 'simplepie/SimplePie.php';

  * Add random_bytes() and random_int() polyfill for PHP5, which is used
    for the author token hash to use the best and most safely available
    random generator for Integers and Strings in PHP.

  * Fix some more PHP 7 errors and fix some default-php theme templates

  * Added a new "view" type 'entries', in case the Blog entries list is
    not the actual startpage. This is with a staticpage set to be the
    new 'start' page of your Blog. The Smarty {$view} variable would
    then be the same for the entries list and the new staticpage
    "startpage" and you would have had to check this by eg.
        {if $view == 'start' AND $staticpage_pagetitle != 'startpage'}
    or anything similar, depending the case to check for.
    In this static page case, the entries list since ever is called by
    GET "/?frontpage" or "index.php?/frontpage" requests.

    This exactly is the case where "view:start" changes to "view:entries"
    for the list, eg {if $view == 'entries'} in your theme.
    Please check your themes index.tpl file for possible conflicts.
    All core delivered themes have been changed accordingly.
    If you don't use the staticpage start (page) option, you have no need
    to change your theme immediately.

  * Allowed <p> tag custom classes in ckeditor js config to the
    Extra Allowed Content protection against ACF.

  * Smartify quicksearch form by option (default false).

  * Optimise visual highlight of installed plugins, including those
    being installed and stackable, in lists of installable plugins.

  * Fix the experimental core cache option by recognising more states.
    This removes the second part of this code, the cached html output,
    and focuses on its first part, the internal cache to not repeat
    specific database queries.
    PLEASE see this still as an EXPERIMENTAL approach!

  * Fix spamblock Akismet API request Error

  * Change default value for "use_autosave" to false

  * Merge Smarty 3.1.32-1: Fix compiling isset() and empty() functions
    for differing PHP behaviour since PHP 5.5.

  * Sync [s9y] and fix:
    Added secure installer with a token, manually created inside a file.
    This is to prevent unauthorized installation access at the very
    moment of install. Just follow the guided steps!

  * Enhance search request results on installable plugins.
    Remove plugins_installable group head names, if no inner element
    was found to display by the javascript search routine.

  * INFO:
        - Safety first. Admins are strongly requested to use the new
          modemaintain plugins "503 maintenance mode", when performing
          upgrades to the Styx system. This will keep everybody away
          until the upgrade and the upgrade tasks have run through
          with success!

  * Due to longstanding networking issues with netmirror.org, the
    default mirror of the Spartacus plugin was changed to use github.
    This will not touch Styx, since it uses the custom Styx github
    mirror by default.

  * Fix odd Chrome line break issue with MediaLibrary item titles and
    the multi form_check box.

  * Sync [s9y]: Fix comment preview for logged-in user overwriting user data

  * INFO:
        - No s9y-sync for adding a "delete" button to the Backend entry form.
          Styx does not want to overload the entry form with tasks that
          can better be done in the entry list.
        - No s9y-sync for including the PEAR Net/DNS2 lib. Currently it seems
          ridiculous to add a 84 file lib, while some old plugins are out
          of date. See: serendipity_event_spamblock_(rbl/surbl).

  * Sync [s9y]: "Suppress empty groups in plugin list" issue, which only
    matters with the Serendipity origin additional_plugin repository.

  * Make Backend page tab title order configurable.
    The default (tab) title of Backend pages in Styx is in this order:
        "section | $admin | blog title"
    You are now able to change the order to "blog title | section | $admin"
    by adding "$serendipity['backendBlogtitleFirst'] = true;" to your
    serendipity_config_local.inc.php file.
    [Post Scriptum: Or use the Backend template approach. See the Styx
     Backend theme info layer.]

  * Minor changes to staticpage breadcrumb regarding separator spaces
    in all themes and staticpage templates files which use "$crumb".
    Please keep your copy templates synced.

  * Fix non accessible SQLite database without notice issue (#427).
    A forced check now is announced to the Dashboard after login.

  * Fix themes entries.pl:
    Do not allow to echo NO ENTRIES TO PRINT if view is a 404 page.

  * Enhance maintenance modemaintain (plugin) notification

  * Enhance and add maintenance (entryproperties) cache notification

  * PHP 7+ will now use random_bytes() for the author token hash, to
    generate cryptographically secure pseudo-random bytes. The older
    now seeds better with the Mersenne Twister random number generator.

  * PHP 7+ will now use openssl en-/decrytion for the cookie based login
    authentication instead of the deprecated and outdated mcrypt library.

  * Fix wrong counting limitation to 4 drafts in the Dashboard, if no
    future entries are available. As already stated in the 2.1-beta1
    notes, there are variables available which can influence the
    Dashboard entry limit (default: 5).

  * Fix missing escapement in the "next" theme staticpage.tpl file
    array vars *.top.topp_name and *.top.exit_name.

  * Silence deprecated mcrypt_* login warnings with PHP 7.1.x ++
    versions until this will be replaced.

  * Add Backend theme admin/doc directory for Backend based lang
    documentary per template files, cached(!) by Smarty.
    The Dashboard Quicktip section uses it already.

  * [Security] Add and check CSRF token for setting themes

  * Core CKEditor: Allow ul tag styles & classes to protect against ACF

  * Fix non-asssigned Smarty var in upgraderResultDiagnose, thanks to
    Pascal Uhlmann (webcompas).

  * Allow the Dashboards autoupdate messaging to admin users only and
    check if the autoupdate plugin actually is installed.


Version 2.1.0 (February, 24th 2017)
 ------------------------------------------------------------------------

  * Fix the "SERENDIPITY_NEEDS_UPGRADE" page redirector to allow admins
    only. This keeps a 503 Maintenance Mode fully intact, until freed.

  * Allow Unicode searches for Chinese / Japanese like languages, see:
        https://board.s9y.org/viewtopic.php?f=4&t=15112
    This also helps when using the full Unicode approach described
    below in 2.1-beta1.

  * Add upgrade task to remove possible old compiler file leftovers
    in root of templates_c, caused by Smarty2.

  * Add upgrade task to purge empty directory leftovers in
    templates_c, primarily caused by Smarty.

  * Add entry language status to the entries list, if the multilingual
    event plugin is installed and actually used by entries.

  * Fix the ChangeLog for the charset symbol text issue.
    Please read about this carefully in the 2.1-beta1 changelog entry
    down below.

  * Add new Backend plugin grouper constants for group bag consistency.
    Changed:    'BACKEND', -> 'BACKEND_ADMIN',
    Added:      'MAINTAIN' -> 'BACKEND_MAINTAIN',
                'DASHBOARD' -> 'BACKEND_DASHBOARD'

  * Introduce a new html_nugget plugin option, to exclude a staticpage
    set startpage, if the staticpage plugin is installed.

  * Introduce new selector(s) to all theme "plugin_contactform.tpl"
    template files, delivered by core:
        "serendipity_staticpage staticpage_plugin_contactform"
    This enables to disallow plugin to form hooked messages,
    which don't make sense here. Example style via user.css:

        .staticpage_plugin_contactform .serendipity_comment_emoticate,
        .staticpage_plugin_contactform .serendipity_comment_gravatar,
        .staticpage_plugin_contactform .serendipity_comment_s9ymarkup,
        .staticpage_plugin_contactform .serendipity_comment_spamblock {
            display: none;
            visibility: hidden;
        }

    In some of these themes allowed only, if the plugin_contactform
    articleform option is set true.
    Please update your COPY-THEMES including this file!

  * Fix CKEditor default content styles loading

  * Fix plugin API save/preview event to not execute the DOM listener
    if $serendipity['use_autosave'] is not set.

  * Keep maintenance mode privateVariables on upgrade, since we do not
    want the public to access the update page.


Version 2.1-rc1 (January, 30th 2017)
 ------------------------------------------------------------------------

  * Add experimental Dashboard quicktip, bundled with the S9y link box.
    This is available within the forced embedded elements option only.
    New installs have this already set by default in Personal
    Preferences.

  * Add experimental modemaintain plugin, activated on install.
    Upgrade Admin Users have to install it manually via plugin list.

  * [Security] Fix missing integer casting for inserting new categories
    (thanks to cdxy)

  * Spamblock fix for the missing captcha generation in combo with the
    adduser plugin.

  * Disable adduserform hooked spamblock notifications via
    style_fallback.css

  * Add tag and category list anchors to edit_entry fieldsets

  * Disabled Selenium test files unless enabled

  * Various more Styx Backend GUI improvements

  * Fix issue #437 - Remove the hardcoded media filter only_filename
    input field and re-allow the $order_fields['i.name'], which (now)
    has the same partial search functionality in the filter panel.
    This sets "only_filename" deprecated.

  * [Security] Check for CSRF token when disabling/enabling comments
    toggle

  * [Security] Add comment deletion token check against CSRF,
    if is_entry_owner via comment.php

  * [Security] Redirection of comment.php now checks the referrer
    and only allows the Blog's host (thanks to Lee Sheldon Victor)

  * [Security] [#435] Secure HTTP_REFERER message, to prevent possible
    XSS in trusted area, thanks to Shinkurt

  * Cleanup of old and deprecated theme(s) admin files.

    FROM NOW ON, the Backends image fallback has moved to the "default"
    -theme admin directory.
    The serendipity_editor.js.tpl in "default/admin" and its dependent
    php files NOW are a fully available fallback stack file. Only some
    themes, like the STANDARD "2k11"-theme" or the "default-php" theme
    will fetch their own file occurrence.
    This all AND the revision for responsiveness corrects the "default"
    -theme to occur as something outdated, or no longer in common and
    restores the original weighting.

  * Touched all preview_iframe template files again for error message
    markup.

  * Allow to set a default category for authors (personal preferences)

  * Changed how the hidden password element is displayed to prevent
    browsers from autofilling it into the entryproperties plugin

  * Fix MediaLibrary image popUp dimensions not equal file dimensions

  * Fix MediaLibrary image scale return to show up the tools
    metaActionBar


Version 2.1-beta-3 Styx (December 19th, 2016)
 ------------------------------------------------------------------------

  * Upgrade to Smarty 3.1.31

  * Various Styx GUI improvements

  * [Security] - See 2.0.6 Note:
    Security bugfix to escape dbType parameter on first installation

  * Fix pubDate and add the better S9y logo to the RSS outfile

  * Revisited the old "default"-theme and its cloned "default-php"-
    theme for mobile first responsiveness, without a total rewrite,
    keeping the origin simplicity.
    The old default index.tpl file was backported to the dependency
    themes (blue, idea and default-rtl). COPY-THEMES, based on them,
    need to include this too.

  * Add upgrade task (again) to rename internally used plugins for the
    stable Styx release

  * [s9y] Synced/Added new API wrapper serendipity_request_url() to request
    URLs for compat. Styx plugins currently still use the simpler Styx
    approach.
    Core Image hotlink requests do now support this new API method.

  * Fix #430 RSS set email by config, thanks to fugue88

  * Smarty bugfix and optimization update to 3.1.31-dev/47

  * [Security] - See 2.0.5 Note:
    Enhanced media upload check to also check redirects for local files

  * [Security] - See 2.0.5 Note:
    Prevent XSS in adding category and directory names

  * Add back button to scale image page

  * Fix BASE_DIRECTORY option in case of hideSubdirFiles

  * Fix extended filter action buttons shown when no entries available

  * Fix plugin API instance token

  * Fix installer iconfont issue

  * Add Styx Backend template example index,  which enables to suppress
    the Serendipity and PHP version information and assets for unlogged
    users.

  * Partial Sync [s9y] - flexbox Backend solution

  * Sync [s9y] core iconfont accessibility fixes

  * Fix and optimize Plugin description

  * Fix and optimize "default-php"-theme empty preview call

  * Bugfix update to Smarty to 3.1.31-dev/32

  * Enhanced themes info.txt descriptive notes

  * Added example Styx BACKEND theme

  * Optimized preview_iframe template files (default, 2k11, Next,
    Skeleton, Bulletproof and default-php)

  * Update CKEditor to 4.5.11 and extend with the autogrow plugin,
    which allows a flexible size of textareas.


Version 2.1-beta2 Styx (September 26th, 2016)
------------------------------------------------------------------------

  * [Security] - See 2.0.4 Note:
    Prevent moving files by using their directory name.
    Possible SQL injection for entry category assignment.
    Possible SQL injection for removing & adding a plugin.

  * [Security] - See 2.0.4 Note:
    Add new configuration option to enable fetching local files for
    the media uploader. By default this is now disabled to prevent
    Server Side Request Forgery (SSRF).

  * Added redirector message for "Page not found".

  * Added new theme "Skeleton".  Skeleton is a responsive, mobile first
    HTML5/CSS3 theme built on the Skeleton framework.

  * Update to Smarty 3.1.31-dev/23

  * Added two API functions for strpos() array needles and
    debugging referrer parent level function name.

  * Fix bug in get URI arguments where uniqueness is bad

  * Send fatal errors to the Serendipity Exception handler

  * Fix compatibility bug preventing Internet Explorer (+Edge) to
    clear the entry editor autosave cache when saving an entry.

  * Sync some Smarty bugfix updates 3.1.31-dev/12

  * Add all RFC 2616 methods to the serendipity REQUEST2 wrapper


Version 2.1-beta1 Styx (September 3rd, 2016)
------------------------------------------------------------------------

  * Added serendipity_comment_author_self class to standard 2k11 theme

  * Converted all core release themes to use Smarty3 syntax

  * Touched template files "plugin_staticpage_*" in 2k11, bulletproof
    and Next theme to support the new navigational structures of
    Staticpages v.5.x.
    Clean-blog and timeline need some review from its author.

  * Fixed and enhanced comments.tpl vars via comments_by_authors.tpl
    template file to get proper results for "*_self" class issues, since
    outside of entries.tpl scope.

  * Fixed Smarty $entry scope for comments.tpl "*_self" class issues,
    in entries.tpl to {assign var="entry" value=$entry scope="root"}
    for proper propagation of $entry to "sub"-templates.
    PLEASE UPDATE your theme or custom template copies!

  * Restrict comments author names a little more

  * Fix Backend commentreply by adding an admin template (d2b1dd9c)

  * Fixed routing refactoring for uri argument checks on comments page
    pagings, and multiple others before, like multiauth and multicat,
    week and archive path, or categories rss match and lots of older
    uri fixes.

  * Re-integration of two very unique themes, which are default-php and
    default-xml. Both were reworked for Serendipity 2.1 Styx Edition and
    particularly in case of the PHP-theme heftily extended with all kind
    of other template files. Both themes use the core included
    include/template_api.inc.php file as an emulator class for the still
    overall used Smarty engine. The XML-theme is meant for Blog output
    as XML for XML-Readers. The PHP-theme is meant for all Blog
    Administrators to use or create a ("Smarty independent") PHP-theme
    only.
    The theme preview files just advert to the fallback usage binding of
    the default-theme stylesheet style.css file. In case of the PHP-theme,
    you may just want to create your own. The PHP-theme may also still
    miss some plugin template files and the XML-theme may still have some
    minor issues in the Backend.
    You are very welcome to help making this more bulletproof!

  * Fixed an old issue with the default fallback template not reading the
    full serendipity_editor.js.tpl file. An already parsed fallback was
    added and updated, as well as a PHP parsable file, which is only used
    by the XML-theme.

  * Removed composer for ckeditor, since being a library which requires
    maintaining. This moved the whole library path one directory up.

  * While developing Serendipity Styx Edition, some minor UI styling
    enhancements in the Backend all over have been added or changed.

  * Update Smarty lib to Smarty 3.1.31-dev/4 since the release version
    had a compiling issue that could hit Styx on upgrade

  * Allow maintenance log view plugin to delete old log files

  * Upgrade core CKEDITOR lib to ckeditor_4.5.10_full

  * Add Backend comments list first / last pagination buttons

  * DEV-NOTE: enabling Zend-Db in include/db/db.inc.php is still marked
    EXPERIMENTAL, since having known issues.

  * Fixed serendipity_db_in_sql() function in generic wrapper file with
    Zend-Db adding bloat to the query part, trying to be smarter.

  * Removed Text/wiki lib from bundled-libs to be included to the wiki
    plugin instead of bundled within the core

  * Fix Zend-Db (mysql) exception issue with Serendipity using CAST(expr AS type)
    type conversions on issueAutologin() and commentSubscription DELETE
    queries.

  * Removed old executable composer.phar file from Serendipity root.
    This saves some Bytes and was never actively maintained!
    Developers may just drop their own fresh executor by hand.

  * Fix another Zend-Db issue adding a wrong key for the Smarty
    $totalEntries assignment

  * Fix serendipity_db_limit($offset, $limit) paginator function in the
    Serendipity generic wrapper file for Zend-Db, which had issues with
    Serendipity SQL offset-limit-string query parts within all Zend-Db
    2.2.x versions.

  * Update Zendframework Zend-Db to version 2.2.10 to fetch at least
    some security flaws in old 2.2.2 package
    (This too without touching composer and old json files)

  * Allow the Maintenance - changelog widget to also open up log files,
    set with $serendipity['logger'].

  * $serendipity['logger'] - fix logging encoding when using constants
    (currently only Spartacus and a critical database logging effected)

  * Update psr/log and katzgrau/klogger libs to current masters
    (without touching composer)

  * Moved Backend comments action-bar to the right

  * Update Smarty lib to Smarty 3.1.30 release.
    See change notes in Smarty 3.1.30-dev commit note down below.

  * Changed Personal Preferences popup-window/force-popup option
    constants to better reflect the embedded mode for some elements

  * Changed weight and iconize Backend comments shortened title line

  * Fix Backend comment bodies. Summary-truncation is now strictly set to
    120 chars and always showed stripped. Else, if comment.summary was
    stripped, allow excerpt button switch to comment.fullBody.

  * Add maintenance "serendipity_event_changelog" widget, active by core.
    Upgrade Admin Users have to install it manually via plugin list.

  * Fix WYSIWYG editor languages by changing the lang constant defines
    for WYSIWYG_LANG to the POSIX locale standard formatting of language
    tags, eg "en_US". This is better to handle than the IETF language
    Unicode standard tag eg. "en-US" using a dash.

  * Add and set a new global full path variable to the Spartacus plugin,
        $serendipity['spartacus_cachedXMLfile']
    to easily be able to nuke the current package_***_**.xml cache file,
    eg. within a possible plugin 'backend_plugins_update' redirector hook
    in need to exit the current upgrade runtime execution. This would
    reset any pending plugin version settings and their listing until
    next run. Thus it'd need a new xml cache file fetch.

  * Add theme engine information to the themes list info layer

  * Allow missing {$templatePath} Smarty variable globally set, to fix
    and extend the following issues:

    - If a theme has its own preview_iframe.tpl file, it needs to
      distinguish between the Backend theme with {serendipity_getFile ...},
        eg. {serendipity_getFile file="admin/js/modernizr.min.js"}
      and its very own files without using the fallback template cascade.
      These files can now be loaded locally by
        {$serendipityHTTPPath}{$templatePath}{$template}/***
      or http-wise with
        {$serendipityBaseURL}{$templatePath}{$template}/***
      and have been fixed for these themes:
        [ <next>, <clean-blog>, <bulletproof>, <timeline> ]
      within this release.
      For THEME-COPIES please remember, that files from <2k11> are
      "special", since being the standard $serendipity['defaultTemplate']
      template, which does not need this care.

    - If a Frontend theme needs to link, or includes assets which might
      be problematic using the template fallback cascade, it may now
      use these fully assigned path variables, eg. for the favicon:
        {$serendipityBaseURL}{$templatePath}{$template}/favicon.ico

  * Fixed <bulletproof>, <default> and <next> themes iframe_preview.tpl
    files not showing up correctly on mode: 'save' in the Backend.

  * Fix a possible <bulletproof> config loading error on theme change,
    regarding serendipity_plugin_api_event_hook already used.

  * Fix and simplify templates loop key chaining for latest Smarty

  * PLEASE NOTE:
    A while ago phpMyAdmin versions 4.0+ changed their behaviour for
    tables edit handling, for database tables not having a unique key.
    You now may edit or create the/a phpMyAdmin config.inc.php file for
    PMA versions from 4.5 and set:
       $cfg['RowActionLinksWithoutUnique'] = true;
    to be able to edit some of the tables used in Serendipity again.
    References:
    https://github.com/s9y/Serendipity/issues/341
    https://docs.phpmyadmin.net/en/latest/setup.html#manually-creating-the-file
    https://sourceforge.net/p/phpmyadmin/bugs/4963/

  * Add Plugin Update Notifier serendipity_event_plugup plugin

  * Fix upgrader to not run upgrade tasks for versions higher than the
    upgrade version.

  * Fix and set strict S9Y_PEAR_PATH . to all relative PEAR package
    requirements, due to requirement errors.

  * Add ability to set and download a custom Serendipity autoupdater
    download file and get notifications for this upgrade URL in the
    Dashboard. This adds a new config option to configuration - general
    settings.

  * Fix Spartacus plugin for custom mirror (GitHub) cases.
    This is currently used for plugin(s) cases only!
    Templates are fetched from the originated mirror(s).

  * Fix case $serendipity['short_archives'] SQL query fetch in
    serendipity_fetchEntries(), if a themes entries_summary.tpl file
    wants to use a body teaser.

  * Allow "title quoting" in Backend entries overview title link,
    but keep escaping for security, using double_encode false.

  * Fix issue (#340) - missing newly created entry id re-added back
    to entry form for follow-up submits of the same entry.
    Please check your template "preview_iframe.tpl" file to execute
    this code in the html head part:
+    {if isset($lastSavedEntry) && (int)$lastSavedEntry}
+
+        <script type="text/javascript">
+            window.onload = function() {ldelim}
+                parent.document.forms['serendipityEntry']['serendipity[id]'].value = "{$lastSavedEntry}";
+            {rdelim};
+        </script>
+    {/if}
+
    and remove the starting + signs.
    This issue is already fixed within the following pre-delivered
    themes: "2k11, default, bulletproof, clean-blog, next".
    Please make sure to update your themes "preview_iframe.tpl" file!
    This adds a native javascript delayed (lazy) load execution versus
    the previous used $(document.ready) and/or missing jquery loading.
    Now the iframe_preview tpl file really updates the entryform hidden
    serendipity[id] value for direct further-on-submits to that entry!

  * Partial fix a possible charset/symbol/database issue, that text
    after UTF8 'private use area' symbols was cut OFF on saving (#394).
    This partial fix applies to entry and comment bodies.

    SADLY, this depends to your (MySQL) Database, its version and also
    the tables/fields COLLATION settings. Even the maximum length of
    columns and index keys play an important role when changing this
    by Serendipity default. This is why we stick with we have for now.
    If you still want to use this better UTF8 support, you have to
    make your hands a little dirty and follow the here described
    procedure by 3 steps.

    PLEASE NOTE: This is about MySQL and old or false set charset
                 collations.

     1. The (old) MySQL utf8 encoding is awkwardly named, as it is
        different from proper UTF-8 encoding. Check up your version.
        MySQL 5.5.3 (up from 2010) introduced a new encoding called
        utf8mb4, which maps to proper UTF-8 and thus fully supports
        Unicode. If it is not set to "utf8mb4" by default, you should
        change it generally by this command:
            ALTER DATABASE database_name CHARACTER SET = utf8mb4 COLLATE = utf_unicode_ci;
        Because of the Serendipity tables unchanged columns length and
        indexes (*), we stick to "utf_unicode_ci" and do NOT use
        COLLATE = utf8mb4_unicode_ci; here.

        (*) The MySQL UTF-8 character set actually only supports 3-byte
            characters. This leads to a maximum limit of 765 byte indexes.
            However, the utf8mb4 character set and utf8mb4_general_ci
            collation introduced support for 4-byte characters, and thus
            the full set of UTF-8 characters. This is when we hit length
            errors, since the new maximum index length on a VARCHAR(255)
            field becomes 1020 bytes for example. It would need to be a
            VARCHAR(191) to stay below the 767 byte limit. As you can
            see here, this is NOT trivial to change and error prone, to
            be that robust as it has ever been.

     2. To set the connection’s COLLATION to "unicode" instead of
        "general" you have to convert these tables by using "SET NAMES
        ... COLLATE ...".
        You only need to use this better "utf8_unicode_ci" collation
        for special characters sorting (*), otherwise you can stick to
        use the old "utf8_general_ci", which is slightly faster as the
        manual says. This only is relevant to the tables which actually
        store (utf8) text data, like *_entries, *_comments and
        *_entryproperties, *_staticpages, etc.
        Example for the changes:
            ALTER TABLE `s9y_comments` DEFAULT CHARSET=utf8 COLLATE utf8_unicode_ci;
            ...

        By default a new Serendipity (UTF-8) installation should already
        be set to use the "utf8_unicode_ci" collation.

        (*) Likewise ß=ss; utf8_unicode_ci uses the Unicode Collation
            Algorithm as defined in the Unicode standards, whereas
            utf8_general_ci is a more simple sort order which results
            in "less accurate" sorting results.

     3. At last, the Serendipity "Configuration / Database Settings /
        Enable DB-charset conversion" option must be set to "No" to
        allow this to work!
        This also is the recommended setting, if you want to allow
        (full) unicode symbols at all. You may face encoding issues with
        old entries now. Check them up and try to save them again. Also
        regard possible cached entries via entryproperties.

    THE TRICK, in short:
        Without these mentioned database changes, the S9y option change
        set to "no" would just produce wrong encoded Umlauts/UTF-8.
        In the old days of changing from native latin1 to utf8 charsets,
        this option, per Serendipity default set to "yes", enabled to
        workaround a bunch of possible errors.
        The changes in the database in step 1 + 2 now enable us to NOT
        face the cut OFF text issue after these symbols any more.
        The unset Serendipity option, NOT to use SET NAMES, enables a
        better automated, modern handshake between server and database.
        At this point, these characters and symbols are actually stored
        in native UTF-8, eg. 'Ã'+'¼' for "ü".
        But since there are way too much possible settings/issues
        around, which may play a role, and not have been mentioned
        here, please see this approach as "EXPERIMENTAL" and at your
        own risk!

        PLEASE NOTE (JUNE 2017):
            There may be a better solution, updating the Serendipity table
            collations with recent mysql versions. This is supposed to come
            with upcoming Styx 2.3+, since that needs some very deep cared
            testing.

        For more about this in general, read:
            https://mathiasbynens.be/notes/mysql-utf8mb4

  * Updated some bundled libs to better support PHP 7

  * Update entryproperties grouping grid option boxes. Please configure
    the sort placed options in the "Entry editing screen" to fit nicely
    into the Backend entries entry form.

  * Update the spartacus_remote url option to support a hidden
    (obfuscated) URI for the serendipity_event_plugup plugin, which adds
    an upgrade note for Spartacus plugin updates to the Dashboard.

  * Restrict category author permissions

  * Set a new option to "personal preferences" user options, to show
    no default widgets (draft entries and comments) in the Dashboard.

  * Fix an old bug with {serendipity_showPlugin
    id="serendipity_plugin_freetag:<the-hash>" side="right"
    negate="true"}
    in the functions_smarty.inc file, since the parameter
    $params['negate'] had never being read and returned correct.

  * Add Smarty 3.1.30-dev and rework the functions_smarty.inc file.
    Smarty 3.1.28 introduces run time template inheritance *
    Read the NEW_FEATURES and INHERITANCE_RELEASE_NOTES file for recent
    extensions to Smarty 3.1 functionality

  * Fix clearCompiledTemplate() needs template name

  * Korean localization lang updates

  * Add new config variable $serendipity['cors'] to allow to set
    Access-Control-Allow-Origin: * headers for sensible places
    (RSS feeds), to i.e. allow JavaScript's XMLHTTPRequest to read
    those feeds.

  * Introduce a section with modern recommended themes in the
    themes Backend menu. Themes can be included there by setting
    Recommended: Yes in their info.txt

  * Merge sidebar and event upgrade pages in one single page button

  * Add colorpicker as possible plugin option item type, set
    type to 'color' to use it

  * Comments made via the Backend on own articles don't trigger
    the comment notification (thanks to xoxys)

  * Fix missing perm checks for "standard user" in MediaLibrary

  * Fix show Dashboard entries by authors entries

  * Fix show Dashboard comments by authors entries (#385)

  * Use CDATA encoded body for ATOM feed

  * Fix: Ajax upload to ML now also works for non-images

  * Added new theme "Clean-Blog".  Clean Blog is a fully responsive,
    mobile first HTML5/CSS3 theme built on the Bootstrap
    framework.

  * Fixed checkbox entryproperties re-sets (#376)

  * Fixed media item delete handler (#371)

  * Rewrote Routing code for index.php to be outsourced into
    include/functions_routing

  * Removed broken feature for viewing Blog entries by multiple
    authors, dropped code from core and plugin_authors.

  * Optimize scaleImage returns

  * Fixed media item rename handler (#370)

  * Fixed and enhanced multiple media redirects and path / name
    related issues, as well as some better umlaut conversions

  * Allow strict media directory selection by toggle filter

  * Allow a better auto char conversion to media upload item names

  * Added Start / End pagination to MediaLibrary and entries list

  * Added new bulk image move ability to MediaLibrary, when extended
    Filters are set in Personal Preferences. This fixes several issues
    with rename AND remove and allows to automatically check and set
    MediaLibrary item entry paths on MOVE.

  * Fix importers to use the new mysqli API extension with PHP 5+

  * WIP: Added an internal cache to speedup s9y's site generation. Can
    be activated by setting use_internal_cache to true in
    serendipity_config.inc.php. Test feedback needed.

  * Added <IfModule mod_rewrite.c> checks to .htaccess for URL rewriting

  * Add support for cronjob plugin to spartacus, to notify Blog owner
    about possible updates (via e-mail)

  * Added link to preview spartacus themes on blog.s9y.org

  * Added two configuration variables that can be set in
    serendipity_config_local.inc.php to influence the Dashboard entry
    limit:

    - $serendipity['dashboardLimit']: How many future entries to fetch
      (default: 5)
    - $serendipity['dashboardDraftLimit']: How many entries in total
      shall be displayed in the Dashboard section (default: 5)
    - $serendipity['dashboardCommentsLimit']: How many comments
      (default: 5)

    (Draft entries will only be fetched if there are less future
    entries than the total entry limit)

  * Fix: the syndication plugin links subtome correctly to the atom
    feed when he is activated with the rss feed

  * Issue #238: When creating/renaming media directories, replace
    special characters with the same i18n rules like Permalinks are
    created, renaming umlauts etc.

  * Add "update all"-button to plugin update page

  * Issue #234: Granular options to force Backend popups for certain
    areas

  * Introduce serendipity['ajax'] to detect incoming ajax requests
    and react accordingly in core and plugins

  * Issue #248: Add $serendipity['forceBase64']=true option (can be
    set in serendipity_config_local.inc.php) to make Serendipity
    *not* use 8bit Imap functions for sending mail, for MTAs that
    behave erratically otherwise.

  * Issue #257: Make sure to check entered admin-user password

  * Issue #264: Drop $authorid for permissions based on images
    instead of directories, it was not used anymore

  * Some small enhancements to the error reporting



(Older NEWS see file NEWS_OLD)

